!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("django:inner",function(){function t(e,t){e.eatWhile(/[^\{]/);var r=e.next();return"{"==r&&(r=e.eat(/\{|%|#/))?(t.tokenize=i(r),"tag"):void 0}function i(i){return"{"==i&&(i="}"),function(r,n){var a=r.next();return a==i&&r.eat("}")?(n.tokenize=t,"tag"):r.match(e)?"keyword":"#"==i?"comment":"string"}}var e=["block","endblock","for","endfor","in","true","false","loop","none","self","super","if","endif","as","not","and","else","import","with","endwith","without","context","ifequal","endifequal","ifnotequal","endifnotequal","extends","include","load","length","comment","endcomment","empty"];return e=new RegExp("^(("+e.join(")|(")+"))\\b"),{startState:function(){return{tokenize:t}},token:function(e,t){return t.tokenize(e,t)}}}),e.defineMode("django",function(t){var i=e.getMode(t,"text/html"),r=e.getMode(t,"django:inner");return e.overlayMode(i,r)}),e.defineMIME("text/x-django","django")});
