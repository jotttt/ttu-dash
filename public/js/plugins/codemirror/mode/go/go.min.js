!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("go",function(e){function o(e,t){var o=e.next();if('"'==o||"'"==o||"`"==o)return t.tokenize=s(o),t.tokenize(e,t);if(/[\d\.]/.test(o))return"."==o?e.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"==o?e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/):e.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(o))return a=o,null;if("/"==o){if(e.eat("*"))return t.tokenize=l,l(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(n.test(o))return e.eatWhile(n),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var u=e.current();return i.propertyIsEnumerable(u)?(("case"==u||"default"==u)&&(a="case"),"keyword"):r.propertyIsEnumerable(u)?"atom":"variable"}function s(e){return function(t,i){for(var n,r=!1,a=!1;null!=(n=t.next());){if(n==e&&!r){a=!0;break}r=!r&&"\\"==n}return(a||!r&&"`"!=e)&&(i.tokenize=o),"string"}}function l(e,t){for(var r,i=!1;r=e.next();){if("/"==r&&i){t.tokenize=o;break}i="*"==r}return"comment"}function u(e,t,i,r,n){this.indented=e,this.column=t,this.type=i,this.align=r,this.prev=n}function c(e,t,i){return e.context=new u(e.indented,t,i,null,e.context)}function f(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var a,t=e.indentUnit,i={"break":!0,"case":!0,chan:!0,"const":!0,"continue":!0,"default":!0,defer:!0,"else":!0,fallthrough:!0,"for":!0,func:!0,go:!0,"goto":!0,"if":!0,"import":!0,"interface":!0,map:!0,"package":!0,range:!0,"return":!0,select:!0,struct:!0,"switch":!0,type:!0,"var":!0,bool:!0,"byte":!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,"int":!0,uint:!0,uintptr:!0},r={"true":!0,"false":!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,imag:!0,len:!0,make:!0,"new":!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},n=/[+\-*&^%:=<>!|\/]/;return{startState:function(e){return{tokenize:null,context:new u((e||0)-t,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var i=t.context;if(e.sol()&&(null==i.align&&(i.align=!1),t.indented=e.indentation(),t.startOfLine=!0,"case"==i.type&&(i.type="}")),e.eatSpace())return null;a=null;var r=(t.tokenize||o)(e,t);return"comment"==r?r:(null==i.align&&(i.align=!0),"{"==a?c(t,e.column(),"}"):"["==a?c(t,e.column(),"]"):"("==a?c(t,e.column(),")"):"case"==a?i.type="case":"}"==a&&"}"==i.type?i=f(t):a==i.type&&f(t),t.startOfLine=!1,r)},indent:function(e,i){if(e.tokenize!=o&&null!=e.tokenize)return 0;var r=e.context,n=i&&i.charAt(0);if("case"==r.type&&/^(?:case|default)\b/.test(i))return e.context.type="}",r.indented;var a=n==r.type;return r.align?r.column+(a?0:1):r.indented+(a?0:t)},electricChars:"{}):",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-go","go")});
