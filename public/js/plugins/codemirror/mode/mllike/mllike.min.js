!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("mllike",function(e,t){function a(e,i){var n=e.next();if('"'===n)return i.tokenize=o,i.tokenize(e,i);if("("===n&&e.eat("*"))return i.commentLevel++,i.tokenize=s,i.tokenize(e,i);if("~"===n)return e.eatWhile(/\w/),"variable-2";if("`"===n)return e.eatWhile(/\w/),"quote";if("/"===n&&t.slashComments&&e.eat("/"))return e.skipToEnd(),"comment";if(/\d/.test(n))return e.eatWhile(/[\d]/),e.eat(".")&&e.eatWhile(/[\d]/),"number";if(/[+\-*&%=<>!?|]/.test(n))return"operator";e.eatWhile(/\w/);var a=e.current();return r[a]||"variable"}function o(e,t){for(var r,i=!1,n=!1;null!=(r=e.next());){if('"'===r&&!n){i=!0;break}n=!n&&"\\"===r}return i&&!n&&(t.tokenize=a),"string"}function s(e,t){for(var r,i;t.commentLevel>0&&null!=(i=e.next());)"("===r&&"*"===i&&t.commentLevel++,"*"===r&&")"===i&&t.commentLevel--,r=i;return t.commentLevel<=0&&(t.tokenize=a),"comment"}var r={let:"keyword",rec:"keyword","in":"keyword",of:"keyword",and:"keyword","if":"keyword",then:"keyword","else":"keyword","for":"keyword",to:"keyword","while":"keyword","do":"keyword",done:"keyword",fun:"keyword","function":"keyword",val:"keyword",type:"keyword",mutable:"keyword",match:"keyword","with":"keyword","try":"keyword",open:"builtin",ignore:"builtin",begin:"keyword",end:"keyword"},i=t.extraWords||{};for(var n in i)i.hasOwnProperty(n)&&(r[n]=t.extraWords[n]);return{startState:function(){return{tokenize:a,commentLevel:0}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},blockCommentStart:"(*",blockCommentEnd:"*)",lineComment:t.slashComments?"//":null}}),e.defineMIME("text/x-ocaml",{name:"mllike",extraWords:{succ:"keyword",trace:"builtin",exit:"builtin",print_string:"builtin",print_endline:"builtin","true":"atom","false":"atom",raise:"keyword"}}),e.defineMIME("text/x-fsharp",{name:"mllike",extraWords:{"abstract":"keyword",as:"keyword",assert:"keyword",base:"keyword","class":"keyword","default":"keyword",delegate:"keyword",downcast:"keyword",downto:"keyword",elif:"keyword",exception:"keyword",extern:"keyword","finally":"keyword",global:"keyword",inherit:"keyword",inline:"keyword","interface":"keyword",internal:"keyword",lazy:"keyword","let!":"keyword",member:"keyword",module:"keyword",namespace:"keyword","new":"keyword","null":"keyword",override:"keyword","private":"keyword","public":"keyword","return":"keyword","return!":"keyword",select:"keyword","static":"keyword",struct:"keyword",upcast:"keyword",use:"keyword","use!":"keyword",val:"keyword",when:"keyword","yield":"keyword","yield!":"keyword",List:"builtin",Seq:"builtin",Map:"builtin",Set:"builtin","int":"builtin",string:"builtin",raise:"builtin",failwith:"builtin",not:"builtin","true":"builtin","false":"builtin"},slashComments:!0})});
