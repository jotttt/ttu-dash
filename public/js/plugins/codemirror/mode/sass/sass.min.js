!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("sass",function(e){function t(e){return new RegExp("^"+e.join("|"))}function s(e,t){var r=e.peek();return")"===r?(e.next(),t.tokenizer=p,"operator"):"("===r?(e.next(),e.eatSpace(),"operator"):"'"===r||'"'===r?(t.tokenizer=u(e.next()),"string"):(t.tokenizer=u(")",!1),"string")}function l(e,t){return function(r,i){return r.sol()&&r.indentation()<=e?(i.tokenizer=p,p(r,i)):(t&&r.skipTo("*/")?(r.next(),r.next(),i.tokenizer=p):r.next(),"comment")}}function u(e,t){function r(i,n){var a=i.next(),o=i.peek(),s=i.string.charAt(i.pos-2),l="\\"!==a&&o===e||a===e&&"\\"!==s;return l?(a!==e&&t&&i.next(),n.tokenizer=p,"string"):"#"===a&&"{"===o?(n.tokenizer=c(r),i.next(),"operator"):"string"}return null==t&&(t=!0),r}function c(e){return function(t,r){return"}"===t.peek()?(t.next(),r.tokenizer=e,"operator"):p(t,r)}}function f(t){if(0==t.indentCount){t.indentCount++;var r=t.scopes[0].offset,i=r+e.indentUnit;t.scopes.unshift({offset:i})}}function d(e){1!=e.scopes.length&&e.scopes.shift()}function p(e,t){var r=e.peek();if(e.match("/*"))return t.tokenizer=l(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=l(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=c(p),"operator";if("."===r)return e.next(),e.match(/^[\w-]+/)?(f(t),"atom"):"#"===e.peek()?(f(t),"atom"):"operator";if("#"===r){if(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))return"number";if(e.match(/^[\w-]+/))return f(t),"atom";if("#"===e.peek())return f(t),"atom"}return e.match(/^-?[0-9\.]+/)?"number":e.match(/^(px|em|in)\b/)?"unit":e.match(i)?"keyword":e.match(/^url/)&&"("===e.peek()?(t.tokenizer=s,"atom"):"$"===r?(e.next(),e.eatWhile(/[\w-]/),":"===e.peek()?(e.next(),"variable-2"):"variable-3"):"!"===r?(e.next(),e.match(/^[\w]+/)?"keyword":"operator"):"="===r?(e.next(),e.match(/^[\w-]+/)?(f(t),"meta"):"operator"):"+"===r?(e.next(),e.match(/^[\w-]+/)?"variable-3":"operator"):e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)?(f(t),"meta"):"@"===r?(e.next(),e.eatWhile(/[\w-]/),"meta"):'"'===r||"'"===r?(e.next(),t.tokenizer=u(r),"string"):":"==r&&e.match(o)?"keyword":e.eatWhile(/[\w-&]/)?":"!==e.peek()||e.match(o,!1)?"atom":"property":e.match(a)?"operator":(e.next(),null)}function h(t,r){t.sol()&&(r.indentCount=0);var i=r.tokenizer(t,r),n=t.current();if("@return"===n&&d(r),"atom"===i&&f(r),null!==i){for(var a=t.pos-n.length,o=a+e.indentUnit*r.indentCount,s=[],l=0;l<r.scopes.length;l++){var u=r.scopes[l];u.offset<=o&&s.push(u)}r.scopes=s}return i}var r=["true","false","null","auto"],i=new RegExp("^"+r.join("|")),n=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not"],a=t(n),o=/^::?[\w\-]+/;return{startState:function(){return{tokenizer:p,scopes:[{offset:0,type:"sass"}],indentCount:0,definedVars:[],definedMixins:[]}},token:function(e,t){var r=h(e,t);return t.lastToken={style:r,content:e.current()},r},indent:function(e){return e.scopes[0].offset}}}),e.defineMIME("text/x-sass","sass")});
