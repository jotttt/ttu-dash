!function(){function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}e.prototype.diff_main=function(e,t,r,i){if("undefined"==typeof i&&(i=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];"undefined"==typeof r&&(r=!0);var n=r,a=this.diff_commonPrefix(e,t);r=e.substring(0,a),e=e.substring(a),t=t.substring(a);var a=this.diff_commonSuffix(e,t),o=e.substring(e.length-a);return e=e.substring(0,e.length-a),t=t.substring(0,t.length-a),e=this.diff_compute_(e,t,n,i),r&&e.unshift([0,r]),o&&e.push([0,o]),this.diff_cleanupMerge(e),e},e.prototype.diff_compute_=function(e,t,r,i){if(!e)return[[1,t]];if(!t)return[[-1,e]];var n=e.length>t.length?e:t,a=e.length>t.length?t:e,o=n.indexOf(a);return-1!=o?(r=[[1,n.substring(0,o)],[0,a],[1,n.substring(o+a.length)]],e.length>t.length&&(r[0][0]=r[2][0]=-1),r):1==a.length?[[-1,e],[1,t]]:(n=this.diff_halfMatch_(e,t))?(a=n[0],e=n[1],o=n[2],t=n[3],n=n[4],a=this.diff_main(a,o,r,i),r=this.diff_main(e,t,r,i),a.concat([[0,n]],r)):r&&100<e.length&&100<t.length?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},e.prototype.diff_lineMode_=function(e,t,r){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2,i=i.lineArray,e=this.diff_main(e,t,!1,r),this.diff_charsToLines_(e,i),this.diff_cleanupSemantic(e),e.push([0,""]);for(var n=i=t=0,a="",o="";t<e.length;){switch(e[t][0]){case 1:n++,o+=e[t][1];break;case-1:i++,a+=e[t][1];break;case 0:if(i>=1&&n>=1){for(e.splice(t-i-n,i+n),t=t-i-n,i=this.diff_main(a,o,!1,r),n=i.length-1;n>=0;n--)e.splice(t,0,i[n]);t+=i.length}i=n=0,o=a=""}t++}return e.pop(),e},e.prototype.diff_bisect_=function(e,t,r){for(var i=e.length,n=t.length,a=Math.ceil((i+n)/2),o=a,s=2*a,l=Array(s),u=Array(s),c=0;s>c;c++)l[c]=-1,u[c]=-1;l[o+1]=0,u[o+1]=0;for(var c=i-n,f=0!=c%2,d=0,h=0,p=0,m=0,g=0;a>g&&!((new Date).getTime()>r);g++){for(var v=-g+d;g-h>=v;v+=2){var b,y=o+v;b=v==-g||v!=g&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1;for(var x=b-v;i>b&&n>x&&e.charAt(b)==t.charAt(x);)b++,x++;if(l[y]=b,b>i)h+=2;else if(x>n)d+=2;else if(f&&(y=o+c-v,y>=0&&s>y&&-1!=u[y])){var w=i-u[y];if(b>=w)return this.diff_bisectSplit_(e,t,b,x,r)}}for(v=-g+p;g-m>=v;v+=2){for(y=o+v,w=v==-g||v!=g&&u[y-1]<u[y+1]?u[y+1]:u[y-1]+1,b=w-v;i>w&&n>b&&e.charAt(i-w-1)==t.charAt(n-b-1);)w++,b++;if(u[y]=w,w>i)m+=2;else if(b>n)p+=2;else if(!f&&(y=o+c-v,y>=0&&s>y&&-1!=l[y]&&(b=l[y],x=o+b-y,w=i-w,b>=w)))return this.diff_bisectSplit_(e,t,b,x,r)}}return[[-1,e],[1,t]]},e.prototype.diff_bisectSplit_=function(e,t,r,i,n){var a=e.substring(0,r),o=t.substring(0,i);return e=e.substring(r),t=t.substring(i),a=this.diff_main(a,o,!1,n),n=this.diff_main(e,t,!1,n),a.concat(n)},e.prototype.diff_linesToChars_=function(e,t){function r(e){for(var t="",r=0,a=-1,o=i.length;a<e.length-1;){a=e.indexOf("\n",r),-1==a&&(a=e.length-1);var s=e.substring(r,a+1),r=a+1;(n.hasOwnProperty?n.hasOwnProperty(s):void 0!==n[s])?t+=String.fromCharCode(n[s]):(t+=String.fromCharCode(o),n[s]=o,i[o++]=s)}return t}var i=[],n={};i[0]="";var a=r(e),o=r(t);return{chars1:a,chars2:o,lineArray:i}},e.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var i=e[r][1],n=[],a=0;a<i.length;a++)n[a]=t[i.charCodeAt(a)];e[r][1]=n.join("")}},e.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,i=Math.min(e.length,t.length),n=i,a=0;n>r;)e.substring(a,n)==t.substring(a,n)?a=r=n:i=n,n=Math.floor((i-r)/2+r);return n},e.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,i=Math.min(e.length,t.length),n=i,a=0;n>r;)e.substring(e.length-n,e.length-a)==t.substring(t.length-n,t.length-a)?a=r=n:i=n,n=Math.floor((i-r)/2+r);return n},e.prototype.diff_commonOverlap_=function(e,t){var r=e.length,i=t.length;if(0==r||0==i)return 0;if(r>i?e=e.substring(r-i):i>r&&(t=t.substring(0,r)),r=Math.min(r,i),e==t)return r;for(var i=0,n=1;;){var a=e.substring(r-n),a=t.indexOf(a);if(-1==a)return i;n+=a,(0==a||e.substring(r-n)==t.substring(0,n))&&(i=n,n++)}},e.prototype.diff_halfMatch_=function(e,t){function r(e,t,r){for(var s,l,u,c,i=e.substring(r,r+Math.floor(e.length/4)),n=-1,o="";-1!=(n=t.indexOf(i,n+1));){var f=a.diff_commonPrefix(e.substring(r),t.substring(n)),d=a.diff_commonSuffix(e.substring(0,r),t.substring(0,n));o.length<d+f&&(o=t.substring(n-d,n)+t.substring(n,n+f),s=e.substring(0,r-d),l=e.substring(r+f),u=t.substring(0,n-d),c=t.substring(n+f))}return 2*o.length>=e.length?[s,l,u,c,o]:null}if(0>=this.Diff_Timeout)return null;var i=e.length>t.length?e:t,n=e.length>t.length?t:e;if(4>i.length||2*n.length<i.length)return null;var s,a=this,o=r(i,n,Math.ceil(i.length/4)),i=r(i,n,Math.ceil(i.length/2));if(!o&&!i)return null;s=i?o&&o[4].length>i[4].length?o:i:o;var l;return e.length>t.length?(o=s[0],i=s[1],n=s[2],l=s[3]):(n=s[0],l=s[1],o=s[2],i=s[3]),s=s[4],[o,i,n,l,s]},e.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],i=0,n=null,a=0,o=0,s=0,l=0,u=0;a<e.length;)0==e[a][0]?(r[i++]=a,o=l,s=u,u=l=0,n=e[a][1]):(1==e[a][0]?l+=e[a][1].length:u+=e[a][1].length,n&&n.length<=Math.max(o,s)&&n.length<=Math.max(l,u)&&(e.splice(r[i-1],0,[-1,n]),e[r[i-1]+1][0]=1,i--,i--,a=i>0?r[i-1]:-1,u=l=s=o=0,n=null,t=!0)),a++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;)-1==e[a-1][0]&&1==e[a][0]&&(t=e[a-1][1],r=e[a][1],i=this.diff_commonOverlap_(t,r),n=this.diff_commonOverlap_(r,t),i>=n?(i>=t.length/2||i>=r.length/2)&&(e.splice(a,0,[0,r.substring(0,i)]),e[a-1][1]=t.substring(0,t.length-i),e[a+1][1]=r.substring(i),a++):(n>=t.length/2||n>=r.length/2)&&(e.splice(a,0,[0,t.substring(0,n)]),e[a-1][0]=1,e[a-1][1]=r.substring(0,r.length-n),e[a+1][0]=-1,e[a+1][1]=t.substring(n),a++),a++),a++},e.prototype.diff_cleanupSemanticLossless=function(t){function r(t,r){if(!t||!r)return 6;var i=t.charAt(t.length-1),n=r.charAt(0),a=i.match(e.nonAlphaNumericRegex_),o=n.match(e.nonAlphaNumericRegex_),s=a&&i.match(e.whitespaceRegex_),l=o&&n.match(e.whitespaceRegex_),i=s&&i.match(e.linebreakRegex_),n=l&&n.match(e.linebreakRegex_),u=i&&t.match(e.blanklineEndRegex_),c=n&&r.match(e.blanklineStartRegex_);return u||c?5:i||n?4:a&&!s&&l?3:s||l?2:a||o?1:0}for(var i=1;i<t.length-1;){if(0==t[i-1][0]&&0==t[i+1][0]){var n=t[i-1][1],a=t[i][1],o=t[i+1][1],s=this.diff_commonSuffix(n,a);if(s)var l=a.substring(a.length-s),n=n.substring(0,n.length-s),a=l+a.substring(0,a.length-s),o=l+o;for(var s=n,l=a,u=o,c=r(n,a)+r(a,o);a.charAt(0)===o.charAt(0);){var n=n+a.charAt(0),a=a.substring(1)+o.charAt(0),o=o.substring(1),f=r(n,a)+r(a,o);f>=c&&(c=f,s=n,l=a,u=o)}t[i-1][1]!=s&&(s?t[i-1][1]=s:(t.splice(i-1,1),i--),t[i][1]=l,u?t[i+1][1]=u:(t.splice(i+1,1),i--))}i++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],i=0,n=null,a=0,o=!1,s=!1,l=!1,u=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(l||u)?(r[i++]=a,o=l,s=u,n=e[a][1]):(i=0,n=null),l=u=!1):(-1==e[a][0]?u=!0:l=!0,n&&(o&&s&&l&&u||n.length<this.Diff_EditCost/2&&3==o+s+l+u)&&(e.splice(r[i-1],0,[-1,n]),e[r[i-1]+1][0]=1,i--,n=null,o&&s?(l=u=!0,i=0):(i--,a=i>0?r[i-1]:-1,l=u=!1),t=!0)),a++;t&&this.diff_cleanupMerge(e)},e.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var o,t=0,r=0,i=0,n="",a="";t<e.length;)switch(e[t][0]){case 1:i++,a+=e[t][1],t++;break;case-1:r++,n+=e[t][1],t++;break;case 0:r+i>1?(0!==r&&0!==i&&(o=this.diff_commonPrefix(a,n),0!==o&&(t-r-i>0&&0==e[t-r-i-1][0]?e[t-r-i-1][1]+=a.substring(0,o):(e.splice(0,0,[0,a.substring(0,o)]),t++),a=a.substring(o),n=n.substring(o)),o=this.diff_commonSuffix(a,n),0!==o&&(e[t][1]=a.substring(a.length-o)+e[t][1],a=a.substring(0,a.length-o),n=n.substring(0,n.length-o))),0===r?e.splice(t-i,r+i,[1,a]):0===i?e.splice(t-r,r+i,[-1,n]):e.splice(t-r-i,r+i,[-1,n],[1,a]),t=t-r-i+(r?1:0)+(i?1:0)+1):0!==t&&0==e[t-1][0]?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,r=i=0,a=n=""}for(""===e[e.length-1][1]&&e.pop(),r=!1,t=1;t<e.length-1;)0==e[t-1][0]&&0==e[t+1][0]&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)==e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),r=!0):e[t][1].substring(0,e[t+1][1].length)==e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),r=!0)),t++;r&&this.diff_cleanupMerge(e)},e.prototype.diff_xIndex=function(e,t){var o,r=0,i=0,n=0,a=0;for(o=0;o<e.length&&(1!==e[o][0]&&(r+=e[o][1].length),-1!==e[o][0]&&(i+=e[o][1].length),!(r>t));o++)n=r,a=i;return e.length!=o&&-1===e[o][0]?a:a+(t-n)},e.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,n=/>/g,a=/\n/g,o=0;o<e.length;o++){var s=e[o][0],l=e[o][1],l=l.replace(r,"&amp;").replace(i,"&lt;").replace(n,"&gt;").replace(a,"&para;<br>");switch(s){case 1:t[o]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[o]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[o]="<span>"+l+"</span>"}}return t.join("")},e.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},e.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},e.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,n=0;n<e.length;n++){var a=e[n][0],o=e[n][1];switch(a){case 1:r+=o.length;break;case-1:i+=o.length;break;case 0:t+=Math.max(r,i),i=r=0}}return t+=Math.max(r,i)},e.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case-1:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(e,t){for(var r=[],i=0,n=0,a=t.split(/\t/g),o=0;o<a.length;o++){var s=a[o].substring(1);switch(a[o].charAt(0)){case"+":try{r[i++]=[1,decodeURI(s)]}catch(l){throw Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var u=parseInt(s,10);if(isNaN(u)||0>u)throw Error("Invalid number in diff_fromDelta: "+s);s=e.substring(n,n+=u),"="==a[o].charAt(0)?r[i++]=[0,s]:r[i++]=[-1,s];break;default:if(a[o])throw Error("Invalid diff operation in diff_fromDelta: "+a[o])}}if(n!=e.length)throw Error("Delta length ("+n+") does not equal source text length ("+e.length+").");return r},e.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},e.prototype.match_bitap_=function(e,t,r){function i(e,i){var n=e/t.length,o=Math.abs(r-i);return a.Match_Distance?n+o/a.Match_Distance:o?1:n}if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),a=this,o=this.Match_Threshold,s=e.indexOf(t,r);-1!=s&&(o=Math.min(i(0,s),o),s=e.lastIndexOf(t,r+t.length),-1!=s&&(o=Math.min(i(0,s),o)));for(var u,c,d,l=1<<t.length-1,s=-1,f=t.length+e.length,h=0;h<t.length;h++){for(u=0,c=f;c>u;)i(h,r+c)<=o?u=c:f=c,c=Math.floor((f-u)/2+u);f=c,u=Math.max(1,r-c+1);var p=Math.min(r+c,e.length)+t.length;for(c=Array(p+2),c[p+1]=(1<<h)-1;p>=u;p--){var m=n[e.charAt(p-1)];if(c[p]=0===h?(c[p+1]<<1|1)&m:(c[p+1]<<1|1)&m|((d[p+1]|d[p])<<1|1)|d[p+1],c[p]&l&&(m=i(h,p-1),o>=m)){if(o=m,s=p-1,!(s>r))break;u=Math.max(1,2*r-s)}}if(i(h+1,r)>o)break;d=c}return s},e.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},e.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin,(r=t.substring(e.start2-i,e.start2))&&e.diffs.unshift([0,r]),(i=t.substring(e.start2+e.length1,e.start2+e.length1+i))&&e.diffs.push([0,i]),e.start1-=r.length,e.start2-=r.length,e.length1+=r.length+i.length,e.length2+=r.length+i.length}},e.prototype.patch_make=function(t,r,i){var n;if("string"==typeof t&&"string"==typeof r&&"undefined"==typeof i)n=t,r=this.diff_main(n,r,!0),2<r.length&&(this.diff_cleanupSemantic(r),this.diff_cleanupEfficiency(r));else if(t&&"object"==typeof t&&"undefined"==typeof r&&"undefined"==typeof i)r=t,n=this.diff_text1(r);else if("string"==typeof t&&r&&"object"==typeof r&&"undefined"==typeof i)n=t;else{if("string"!=typeof t||"string"!=typeof r||!i||"object"!=typeof i)throw Error("Unknown call format to patch_make.");n=t,r=i}if(0===r.length)return[];i=[],t=new e.patch_obj;for(var a=0,o=0,s=0,l=n,u=0;u<r.length;u++){var c=r[u][0],f=r[u][1];switch(!a&&0!==c&&(t.start1=o,t.start2=s),c){case 1:t.diffs[a++]=r[u],t.length2+=f.length,n=n.substring(0,s)+f+n.substring(s);break;case-1:t.length1+=f.length,t.diffs[a++]=r[u],n=n.substring(0,s)+n.substring(s+f.length);break;case 0:f.length<=2*this.Patch_Margin&&a&&r.length!=u+1?(t.diffs[a++]=r[u],t.length1+=f.length,t.length2+=f.length):f.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(t,l),i.push(t),t=new e.patch_obj,a=0,l=n,o=s)}1!==c&&(o+=f.length),-1!==c&&(s+=f.length)}return a&&(this.patch_addContext_(t,l),i.push(t)),i},e.prototype.patch_deepCopy=function(t){for(var r=[],i=0;i<t.length;i++){var n=t[i],a=new e.patch_obj;a.diffs=[];for(var o=0;o<n.diffs.length;o++)a.diffs[o]=n.diffs[o].slice();a.start1=n.start1,a.start2=n.start2,a.length1=n.length1,a.length2=n.length2,r[i]=a}return r},e.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,n=[],a=0;a<e.length;a++){var l,o=e[a].start2+i,s=this.diff_text1(e[a].diffs),u=-1;if(s.length>this.Match_MaxBits?(l=this.match_main(t,s.substring(0,this.Match_MaxBits),o),-1!=l&&(u=this.match_main(t,s.substring(s.length-this.Match_MaxBits),o+s.length-this.Match_MaxBits),-1==u||l>=u)&&(l=-1)):l=this.match_main(t,s,o),-1==l)n[a]=!1,i-=e[a].length2-e[a].length1;else if(n[a]=!0,i=l-o,o=-1==u?t.substring(l,l+s.length):t.substring(l,u+this.Match_MaxBits),s==o)t=t.substring(0,l)+this.diff_text2(e[a].diffs)+t.substring(l+s.length);else if(o=this.diff_main(s,o,!1),s.length>this.Match_MaxBits&&this.diff_levenshtein(o)/s.length>this.Patch_DeleteThreshold)n[a]=!1;else{this.diff_cleanupSemanticLossless(o);for(var c,s=0,u=0;u<e[a].diffs.length;u++){var f=e[a].diffs[u];0!==f[0]&&(c=this.diff_xIndex(o,s)),1===f[0]?t=t.substring(0,l+c)+f[1]+t.substring(l+c):-1===f[0]&&(t=t.substring(0,l+c)+t.substring(l+this.diff_xIndex(o,s+f[1].length))),-1!==f[0]&&(s+=f[1].length)}}}return t=t.substring(r.length,t.length-r.length),[t,n]},e.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",i=1;t>=i;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var i=e[0],n=i.diffs;if(0==n.length||0!=n[0][0])n.unshift([0,r]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>n[0][1].length){var a=t-n[0][1].length;n[0][1]=r.substring(n[0][1].length)+n[0][1],i.start1-=a,i.start2-=a,i.length1+=a,i.length2+=a}return i=e[e.length-1],n=i.diffs,0==n.length||0!=n[n.length-1][0]?(n.push([0,r]),i.length1+=t,i.length2+=t):t>n[n.length-1][1].length&&(a=t-n[n.length-1][1].length,n[n.length-1][1]+=r.substring(0,a),i.length1+=a,i.length2+=a),r},e.prototype.patch_splitMax=function(t){for(var r=this.Match_MaxBits,i=0;i<t.length;i++)if(!(t[i].length1<=r)){var n=t[i];t.splice(i--,1);for(var a=n.start1,o=n.start2,s="";0!==n.diffs.length;){var l=new e.patch_obj,u=!0;for(l.start1=a-s.length,l.start2=o-s.length,""!==s&&(l.length1=l.length2=s.length,l.diffs.push([0,s]));0!==n.diffs.length&&l.length1<r-this.Patch_Margin;){var s=n.diffs[0][0],c=n.diffs[0][1];1===s?(l.length2+=c.length,o+=c.length,l.diffs.push(n.diffs.shift()),u=!1):-1===s&&1==l.diffs.length&&0==l.diffs[0][0]&&c.length>2*r?(l.length1+=c.length,a+=c.length,u=!1,l.diffs.push([s,c]),n.diffs.shift()):(c=c.substring(0,r-l.length1-this.Patch_Margin),l.length1+=c.length,a+=c.length,0===s?(l.length2+=c.length,o+=c.length):u=!1,l.diffs.push([s,c]),c==n.diffs[0][1]?n.diffs.shift():n.diffs[0][1]=n.diffs[0][1].substring(c.length))}s=this.diff_text2(l.diffs),s=s.substring(s.length-this.Patch_Margin),c=this.diff_text1(n.diffs).substring(0,this.Patch_Margin),""!==c&&(l.length1+=c.length,l.length2+=c.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=c:l.diffs.push([0,c])),u||t.splice(++i,0,l)}}},e.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},e.prototype.patch_fromText=function(t){var r=[];if(!t)return r;t=t.split("\n");for(var i=0,n=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<t.length;){var a=t[i].match(n);if(!a)throw Error("Invalid patch string: "+t[i]);var o=new e.patch_obj;for(r.push(o),o.start1=parseInt(a[1],10),""===a[2]?(o.start1--,o.length1=1):"0"==a[2]?o.length1=0:(o.start1--,o.length1=parseInt(a[2],10)),o.start2=parseInt(a[3],10),""===a[4]?(o.start2--,o.length2=1):"0"==a[4]?o.length2=0:(o.start2--,o.length2=parseInt(a[4],10)),i++;i<t.length;){a=t[i].charAt(0);try{var s=decodeURI(t[i].substring(1))}catch(l){throw Error("Illegal escape in patch_fromText: "+s)}if("-"==a)o.diffs.push([-1,s]);else if("+"==a)o.diffs.push([1,s]);else if(" "==a)o.diffs.push([0,s]);else{if("@"==a)break;if(""!==a)throw Error('Invalid patch mode "'+a+'" in: '+s)}i++}}return r},e.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},e.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,e=["@@ -"+e+" +"+t+" @@\n"];var r;for(t=0;t<this.diffs.length;t++){switch(this.diffs[t][0]){case 1:r="+";break;case-1:r="-";break;case 0:r=" "}e[t+1]=r+encodeURI(this.diffs[t][1])+"\n"}return e.join("").replace(/%20/g," ")},this.diff_match_patch=e,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}();
