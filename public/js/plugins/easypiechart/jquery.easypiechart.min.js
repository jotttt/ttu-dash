!function(e,t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(e){var t=function(e,t){var r,i=document.createElement("canvas");e.appendChild(i),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var n=i.getContext("2d");i.width=i.height=t.size;var a=1;window.devicePixelRatio>1&&(a=window.devicePixelRatio,i.style.width=i.style.height=[t.size,"px"].join(""),i.width=i.height=t.size*a,n.scale(a,a)),n.translate(t.size/2,t.size/2),n.rotate((-0.5+t.rotate/180)*Math.PI);var o=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(o-=t.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(e,t,r){r=Math.min(Math.max(-1,r||0),1);var i=0>=r?!0:!1;n.beginPath(),n.arc(0,0,o,0,2*Math.PI*r,i),n.strokeStyle=e,n.lineWidth=t,n.stroke()},l=function(){var e,r;n.lineWidth=1,n.fillStyle=t.scaleColor,n.save();for(var i=24;i>0;--i)i%6===0?(r=t.scaleLength,e=0):(r=.6*t.scaleLength,e=t.scaleLength-r),n.fillRect(-t.size/2+e,0,r,1),n.rotate(Math.PI/12);n.restore()},u=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),c=function(){t.scaleColor&&l(),t.trackColor&&s(t.trackColor,t.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return n},this.clear=function(){n.clearRect(t.size/-2,t.size/-2,t.size,t.size)},this.draw=function(e){t.scaleColor||t.trackColor?n.getImageData&&n.putImageData?r?n.putImageData(r,0,0):(c(),r=n.getImageData(0,0,t.size*a,t.size*a)):(this.clear(),c()):this.clear(),n.lineCap=t.lineCap;var i;i="function"==typeof t.barColor?t.barColor(e):t.barColor,s(i,t.lineWidth,e/100)}.bind(this),this.animate=function(e,r){var i=Date.now();t.onStart(e,r);var n=function(){var a=Math.min(Date.now()-i,t.animate.duration),o=t.easing(this,a,e,r-e,t.animate.duration);this.draw(o),t.onStep(e,r,o),a>=t.animate.duration?t.onStop(e,r):u(n)}.bind(this);u(n)}.bind(this)},r=function(e,r){var i={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,r,i,n){return t/=n/2,1>t?i/2*t*t+r:-i/2*(--t*(t-2)-1)+r},onStart:function(e,t){},onStep:function(e,t,r){},onStop:function(e,t){}};if("undefined"!=typeof t)i.renderer=t;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var n={},a=0,o=function(){this.el=e,this.options=n;for(var t in i)i.hasOwnProperty(t)&&(n[t]=r&&"undefined"!=typeof r[t]?r[t]:i[t],"function"==typeof n[t]&&(n[t]=n[t].bind(this)));"string"==typeof n.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[n.easing])?n.easing=jQuery.easing[n.easing]:n.easing=i.easing,"number"==typeof n.animate&&(n.animate={duration:n.animate,enabled:!0}),"boolean"!=typeof n.animate||n.animate||(n.animate={duration:1e3,enabled:n.animate}),this.renderer=new n.renderer(e,n),this.renderer.draw(a),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(e){return e=parseFloat(e),n.animate.enabled?this.renderer.animate(a,e):this.renderer.draw(e),a=e,this}.bind(this),this.disableAnimation=function(){return n.animate.enabled=!1,this},this.enableAnimation=function(){return n.animate.enabled=!0,this},o()};e.fn.easyPieChart=function(t){return this.each(function(){var i;e.data(this,"easyPieChart")||(i=e.extend({},t,e(this).data()),e.data(this,"easyPieChart",new r(this,i)))})}});
