!function(e){function r(e){function t(e,t){t.series.curvedLines.active&&e.hooks.processDatapoints.unshift(r)}function r(e,t,r){var n=r.points.length/r.pointsize,a=.5;if(1==t.curvedLines.apply&&void 0===t.originSeries&&n>1+a)if(t.lines.fill){var o=i(r,t.curvedLines,1),s=i(r,t.curvedLines,2);r.pointsize=3,r.points=[];for(var l=0,u=0,c=0,f=2;c<o.length||l<s.length;)o[c]==s[l]?(r.points[u]=o[c],r.points[u+1]=o[c+1],r.points[u+2]=s[l+1],l+=f,c+=f):o[c]<s[l]?(r.points[u]=o[c],r.points[u+1]=o[c+1],r.points[u+2]=u>0?r.points[u-1]:null,c+=f):(r.points[u]=s[l],r.points[u+1]=u>1?r.points[u-2]:null,r.points[u+2]=s[l+1],l+=f),u+=3}else t.lines.lineWidth>0&&(r.points=i(r,t.curvedLines,1),r.pointsize=2)}function i(e,t,r){var i=e.points,n=e.pointsize,a=t.curvePointFactor*(i.length/n),o=new Array,s=new Array,l=-1,u=-1,c=0;if(t.fit){var f;if("undefined"==typeof t.fitPointDist){var d=i[0],h=i[i.length-n];f=(h-d)/5e4}else f=t.fitPointDist;for(var p=0;p<i.length;p+=n){var m,g;l=p,u=p+r,m=i[l]-f,g=i[l]+f;for(var v=2;m==i[l]||g==i[l];)m=i[l]-f*v,g=i[l]+f*v,v++;o[c]=m,s[c]=i[u],c++,o[c]=i[l],s[c]=i[u],c++,o[c]=g,s[c]=i[u],c++}}else for(var p=0;p<i.length;p+=n)l=p,u=p+r,o[c]=i[l],s[c]=i[u],c++;var y=o.length,b=new Array,x=new Array;b[0]=0,b[y-1]=0,x[0]=0;for(var p=1;y-1>p;++p){var w=o[p+1]-o[p-1];if(0==w)return[];var k=(o[p]-o[p-1])/w,_=k*b[p-1]+2;b[p]=(k-1)/_,x[p]=(s[p+1]-s[p])/(o[p+1]-o[p])-(s[p]-s[p-1])/(o[p]-o[p-1]),x[p]=(6*x[p]/(o[p+1]-o[p-1])-k*x[p-1])/_}for(var c=y-2;c>=0;--c)b[c]=b[c]*b[c+1]+x[c];var S=(o[y-1]-o[0])/(a-1),j=new Array,T=new Array,C=new Array;for(j[0]=o[0],T[0]=s[0],C.push(j[0]),C.push(T[0]),c=1;a>c;++c){j[c]=j[0]+c*S;for(var E=y-1,Q=0;E-Q>1;){var D=Math.round((E+Q)/2);o[D]>j[c]?E=D:Q=D}var A=o[E]-o[Q];if(0==A)return[];var M=(o[E]-j[c])/A,N=(j[c]-o[Q])/A;T[c]=M*s[Q]+N*s[E]+((M*M*M-M)*b[Q]+(N*N*N-N)*b[E])*(A*A)/6,C.push(j[c]),C.push(T[c])}return C}e.hooks.processOptions.push(t)}var t={series:{curvedLines:{active:!1,apply:!1,fit:!1,curvePointFactor:20,fitPointDist:void 0}}};e.plot.plugins.push({init:r,options:t,name:"curvedLines",version:"0.5"})}(jQuery);
