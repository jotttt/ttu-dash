!function(e){"use strict";function t(e,t,r,i,n,a,o){var u,c,f,d,h,p,m,g,s=Math.pow,l=Math.sqrt;return u=l(s(r-e,2)+s(i-t,2)),c=l(s(n-r,2)+s(a-i,2)),f=o*u/(u+c),d=o-f,h=r+f*(e-n),p=i+f*(t-a),m=r-d*(e-n),g=i-d*(t-a),[h,p,m,g]}function i(t,r,i,n,a){var o=e.color.parse(a);o.a="number"==typeof n?n:.3,o.normalize(),o=o.toString(),r.beginPath(),r.moveTo(t[0][0],t[0][1]);for(var s=t.length,l=0;s>l;l++)r[t[l][3]].apply(r,t[l][2]);r.stroke(),r.lineWidth=0,r.lineTo(t[s-1][0],i),r.lineTo(t[0][0],i),r.closePath(),n!==!1&&(r.fillStyle=o,r.fill())}function n(e,t,i,n){(void 0===t||"bezier"!==t&&"quadratic"!==t)&&(t="quadratic"),t+="CurveTo",0==r.length?r.push([i[0],i[1],n.concat(i.slice(2)),t]):"quadraticCurveTo"==t&&2==i.length?(n=n.slice(0,2).concat(i),r.push([i[0],i[1],n,t])):r.push([i[2],i[3],n.concat(i.slice(2)),t])}function a(a,o,s){if(s.splines.show===!0){var c,f,d,l=[],u=s.splines.tension||.5,h=s.datapoints.points,p=s.datapoints.pointsize,m=a.getPlotOffset(),g=h.length,v=[];if(r=[],4>g/p)return void e.extend(s.lines,s.splines);for(c=0;g>c;c+=p)f=h[c],d=h[c+1],null==f||f<s.xaxis.min||f>s.xaxis.max||d<s.yaxis.min||d>s.yaxis.max||v.push(s.xaxis.p2c(f)+m.left,s.yaxis.p2c(d)+m.top);for(g=v.length,c=0;g-2>c;c+=2)l=l.concat(t.apply(this,v.slice(c,c+6).concat([u])));for(o.save(),o.strokeStyle=s.color,o.lineWidth=s.splines.lineWidth,n(o,"quadratic",v.slice(0,4),l.slice(0,2)),c=2;g-3>c;c+=2)n(o,"bezier",v.slice(c,c+4),l.slice(2*c-2,2*c+2));n(o,"quadratic",v.slice(g-2,g),[l[2*g-10],l[2*g-9],v[g-4],v[g-3]]),i(r,o,a.height()+10,s.splines.fill,s.color),o.restore()}}var r=[];e.plot.plugins.push({init:function(e){e.hooks.drawSeries.push(a)},options:{series:{splines:{show:!1,lineWidth:2,tension:.5,fill:!1}}},name:"spline",version:"0.8.2"})}(jQuery);
