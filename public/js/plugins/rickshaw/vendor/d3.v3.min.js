d3=function(){function e(e){return null!=e&&!isNaN(e)}function t(e){return e.length}function i(e){for(var t=1;e*t%1;)t*=10;return t}function r(e,t){try{for(var i in t)Object.defineProperty(e.prototype,i,{value:t[i],enumerable:!1})}catch(r){e.prototype=t}}function n(){}function a(){}function o(e,t,i){return function(){var r=i.apply(t,arguments);return r===t?e:r}}function l(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var i=0,r=Ia.length;r>i;++i){var n=Ia[i]+t;if(n in e)return n}}function s(){}function u(){}function c(e){function t(){for(var t,r=i,n=-1,a=r.length;++n<a;)(t=r[n].on)&&t.apply(this,arguments);return e}var i=[],r=new n;return t.on=function(t,n){var a,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,i=i.slice(0,a=i.indexOf(o)).concat(i.slice(a+1)),r.remove(t)),n&&i.push(r.set(t,{on:n})),e)},t}function f(){va.event.preventDefault()}function d(){for(var e,t=va.event;e=t.sourceEvent;)t=e;return t}function h(e){for(var t=new u,i=0,r=arguments.length;++i<r;)t[arguments[i]]=c(t);return t.of=function(i,r){return function(n){try{var a=n.sourceEvent=va.event;n.target=e,va.event=n,t[n.type].apply(i,r)}finally{va.event=a}}},t}function p(e){return Qa(e,$a),e}function m(e){return"function"==typeof e?e:function(){return Oa(e,this)}}function g(e){return"function"==typeof e?e:function(){return za(e,this)}}function v(e,t){function i(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function n(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function o(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}function l(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}return e=va.ns.qualify(e),null==t?e.local?r:i:"function"==typeof t?e.local?l:o:e.local?a:n}function y(e){return e.trim().replace(/\s+/g," ")}function b(e){return new RegExp("(?:^|\\s+)"+va.requote(e)+"(?:\\s+|$)","g")}function x(e,t){function i(){for(var i=-1;++i<n;)e[i](this,t)}function r(){for(var i=-1,r=t.apply(this,arguments);++i<n;)e[i](this,r)}e=e.trim().split(/\s+/).map(w);var n=e.length;return"function"==typeof t?r:i}function w(e){var t=b(e);return function(i,r){if(n=i.classList)return r?n.add(e):n.remove(e);var n=i.getAttribute("class")||"";r?(t.lastIndex=0,t.test(n)||i.setAttribute("class",y(n+" "+e))):i.setAttribute("class",y(n.replace(t," ")))}}function k(e,t,i){function r(){this.style.removeProperty(e)}function n(){this.style.setProperty(e,t,i)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,i)}return null==t?r:"function"==typeof t?a:n}function _(e,t){function i(){delete this[e]}function r(){this[e]=t}function n(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}return null==t?i:"function"==typeof t?n:r}function S(e){return"function"==typeof e?e:(e=va.ns.qualify(e)).local?function(){return xa.createElementNS(e.space,e.local)}:function(){return xa.createElementNS(this.namespaceURI,e)}}function C(e){return{__data__:e}}function T(e){return function(){return Fa(this,e)}}function j(e){return arguments.length||(e=va.ascending),function(t,i){return t&&i?e(t.__data__,i.__data__):!t-!i}}function M(e,t){for(var i=0,r=e.length;r>i;i++)for(var n,a=e[i],o=0,l=a.length;l>o;o++)(n=a[o])&&t(n,o,i);return e}function D(e){return Qa(e,qa),e}function E(e){var t,i;return function(r,n,a){var o,l=e[a].update,s=l.length;for(a!=i&&(i=a,t=0),n>=t&&(t=n+1);!(o=l[t])&&++t<s;);return o}}function A(){var e=this.__transition__;e&&++e.active}function N(e,t,i){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function n(){var n=u(t,ba(arguments));r.call(this),this.addEventListener(e,this[o]=n,n.$=i),n._=t}function a(){var t,i=new RegExp("^__on([^.]+)"+va.requote(e)+"$");for(var r in this)if(t=r.match(i)){var n=this[r];this.removeEventListener(t[1],n,n.$),delete this[r]}}var o="__on"+e,l=e.indexOf("."),u=I;l>0&&(e=e.substring(0,l));var c=Wa.get(e);return c&&(e=c,u=L),l?t?n:r:t?s:a}function I(e,t){return function(i){var r=va.event;va.event=i,t[0]=this.__data__;try{e.apply(this,t)}finally{va.event=r}}}function L(e,t){var i=I(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||i.call(t,e)}}function Q(){var e=".dragsuppress-"+ ++Ba,t="touchmove"+e,i="selectstart"+e,r="dragstart"+e,n="click"+e,a=va.select(ka).on(t,f).on(i,f).on(r,f),o=wa.style,l=o[Ua];return o[Ua]="none",function(t){function i(){a.on(n,null)}a.on(e,null),o[Ua]=l,t&&(a.on(n,function(){f(),i()},!0),setTimeout(i,0))}}function O(e,t){t.changedTouches&&(t=t.changedTouches[0]);var i=e.ownerSVGElement||e;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Ya&&(ka.scrollX||ka.scrollY)){i=va.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var n=i[0][0].getScreenCTM();Ya=!(n.f||n.e),i.remove()}return Ya?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function z(e){return e>0?1:0>e?-1:0}function P(e){return e>1?0:-1>e?Va:Math.acos(e)}function F(e){return e>1?Za:-1>e?-Za:Math.asin(e)}function $(e){return((e=Math.exp(e))-1/e)/2}function R(e){return((e=Math.exp(e))+1/e)/2}function q(e){return((e=Math.exp(2*e))-1)/(e+1)}function H(e){return(e=Math.sin(e/2))*e}function W(){}function U(e,t,i){return new B(e,t,i)}function B(e,t,i){this.h=e,this.s=t,this.l=i}function Y(e,t,i){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(o-a)*e/60:180>e?o:240>e?a+(o-a)*(240-e)/60:a}function n(e){return Math.round(255*r(e))}var a,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,i=0>i?0:i>1?1:i,o=.5>=i?i*(1+t):i+t-i*t,a=2*i-o,oe(n(e+120),n(e),n(e-120))}function V(e,t,i){return new G(e,t,i)}function G(e,t,i){this.h=e,this.c=t,this.l=i}function Z(e,t,i){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),X(i,Math.cos(e*=Ja)*t,Math.sin(e)*t)}function X(e,t,i){return new K(e,t,i)}function K(e,t,i){this.l=e,this.a=t,this.b=i}function J(e,t,i){var r=(e+16)/116,n=r+t/500,a=r-i/200;return n=te(n)*co,r=te(r)*fo,a=te(a)*ho,oe(re(3.2404542*n-1.5371385*r-.4985314*a),re(-.969266*n+1.8760108*r+.041556*a),re(.0556434*n-.2040259*r+1.0572252*a))}function ee(e,t,i){return e>0?V(Math.atan2(i,t)*eo,Math.sqrt(t*t+i*i),e):V(NaN,NaN,e)}function te(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ie(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function re(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ne(e){return oe(e>>16,255&e>>8,255&e)}function ae(e){return ne(e)+""}function oe(e,t,i){return new le(e,t,i)}function le(e,t,i){this.r=e,this.g=t,this.b=i}function se(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ue(e,t,i){var r,n,a,o=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(n=r[2].split(","),r[1]){case"hsl":return i(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100);case"rgb":return t(he(n[0]),he(n[1]),he(n[2]))}return(a=go.get(e))?t(a.r,a.g,a.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(o=e.charAt(1),o+=o,l=e.charAt(2),l+=l,s=e.charAt(3),s+=s):7===e.length&&(o=e.substring(1,3),l=e.substring(3,5),s=e.substring(5,7)),o=parseInt(o,16),l=parseInt(l,16),s=parseInt(s,16)),t(o,l,s))}function ce(e,t,i){var r,n,a=Math.min(e/=255,t/=255,i/=255),o=Math.max(e,t,i),l=o-a,s=(o+a)/2;return l?(n=.5>s?l/(o+a):l/(2-o-a),r=e==o?(t-i)/l+(i>t?6:0):t==o?(i-e)/l+2:(e-t)/l+4,r*=60):(r=NaN,n=s>0&&1>s?0:r),U(r,n,s)}function fe(e,t,i){e=de(e),t=de(t),i=de(i);var r=ie((.4124564*e+.3575761*t+.1804375*i)/co),n=ie((.2126729*e+.7151522*t+.072175*i)/fo),a=ie((.0193339*e+.119192*t+.9503041*i)/ho);return X(116*n-16,500*(r-n),200*(n-a))}function de(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function he(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function pe(e){return"function"==typeof e?e:function(){return e}}function me(e){return e}function ge(e){return function(t,i,r){return 2===arguments.length&&"function"==typeof i&&(r=i,i=null),ve(t,i,e,r)}}function ve(e,t,i,r){function n(){var e,t=s.status;if(!t&&s.responseText||t>=200&&300>t||304===t){try{e=i.call(a,s)}catch(r){return void o.error.call(a,r)}o.load.call(a,e)}else o.error.call(a,s)}var a={},o=va.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,u=null;return!ka.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(e)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=n:s.onreadystatechange=function(){s.readyState>3&&n()},s.onprogress=function(e){var t=va.event;va.event=e;try{o.progress.call(a,s)}finally{va.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(u=e,a):u},a.response=function(e){return i=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(ba(arguments)))}}),a.send=function(i,r,n){if(2===arguments.length&&"function"==typeof r&&(n=r,r=null),s.open(i,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),s.setRequestHeader)for(var c in l)s.setRequestHeader(c,l[c]);return null!=t&&s.overrideMimeType&&s.overrideMimeType(t),null!=u&&(s.responseType=u),null!=n&&a.on("error",n).on("load",function(e){n(null,e)}),o.beforesend.call(a,s),s.send(null==r?null:r),a},a.abort=function(){return s.abort(),a},va.rebind(a,o,"on"),null==r?a:a.get(ye(r))}function ye(e){return 1===e.length?function(t,i){e(null==t?i:null)}:e}function be(){var e=we(),t=ke()-e;t>24?(isFinite(t)&&(clearTimeout(xo),xo=setTimeout(be,t)),bo=0):(bo=1,ko(be))}function xe(e,t,i){var r=arguments.length;2>r&&(t=0),3>r&&(i=Date.now()),wo.callback=e,wo.time=i+t}function we(){var e=Date.now();for(wo=vo;wo;)e>=wo.time&&(wo.flush=wo.callback(e-wo.time)),wo=wo.next;return e}function ke(){for(var e,t=vo,i=1/0;t;)t.flush?t=e?e.next=t.next:vo=t.next:(t.time<i&&(i=t.time),t=(e=t).next);return yo=e,i}function _e(e,t){var i=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/i}:function(e){return e*i},symbol:e}}function Se(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ce(e){return e+""}function Te(){}function je(e,t,i){var r=i.s=e+t,n=r-e,a=r-n;i.t=e-a+(t-n)}function Me(e,t){e&&Lo.hasOwnProperty(e.type)&&Lo[e.type](e,t)}function De(e,t,i){var r,n=-1,a=e.length-i;for(t.lineStart();++n<a;)r=e[n],t.point(r[0],r[1],r[2]);t.lineEnd()}function Ee(e,t){var i=-1,r=e.length;for(t.polygonStart();++i<r;)De(e[i],t,1);t.polygonEnd()}function Ae(){function e(e,t){e*=Ja,t=t*Ja/2+Va/4;var i=e-r,o=Math.cos(t),l=Math.sin(t),s=a*l,u=n*o+s*Math.cos(i),c=s*Math.sin(i);Oo.add(Math.atan2(c,u)),r=e,n=o,a=l}var t,i,r,n,a;zo.point=function(o,l){zo.point=e,r=(t=o)*Ja,n=Math.cos(l=(i=l)*Ja/2+Va/4),a=Math.sin(l)},zo.lineEnd=function(){e(t,i)}}function Ne(e){var t=e[0],i=e[1],r=Math.cos(i);return[r*Math.cos(t),r*Math.sin(t),Math.sin(i)]}function Ie(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Le(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Qe(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Oe(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ze(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Pe(e){return[Math.atan2(e[1],e[0]),F(e[2])]}function Fe(e,t){return Math.abs(e[0]-t[0])<Xa&&Math.abs(e[1]-t[1])<Xa}function $e(e,t){e*=Ja;var i=Math.cos(t*=Ja);Re(i*Math.cos(e),i*Math.sin(e),Math.sin(t))}function Re(e,t,i){++Po,$o+=(e-$o)/Po,Ro+=(t-Ro)/Po,qo+=(i-qo)/Po}function qe(){function e(e,n){e*=Ja;var a=Math.cos(n*=Ja),o=a*Math.cos(e),l=a*Math.sin(e),s=Math.sin(n),u=Math.atan2(Math.sqrt((u=i*s-r*l)*u+(u=r*o-t*s)*u+(u=t*l-i*o)*u),t*o+i*l+r*s);Fo+=u,Ho+=u*(t+(t=o)),Wo+=u*(i+(i=l)),Uo+=u*(r+(r=s)),Re(t,i,r)}var t,i,r;Go.point=function(n,a){n*=Ja;var o=Math.cos(a*=Ja);t=o*Math.cos(n),i=o*Math.sin(n),r=Math.sin(a),Go.point=e,Re(t,i,r)}}function He(){Go.point=$e}function We(){function e(e,t){e*=Ja;var i=Math.cos(t*=Ja),o=i*Math.cos(e),l=i*Math.sin(e),s=Math.sin(t),u=n*s-a*l,c=a*o-r*s,f=r*l-n*o,d=Math.sqrt(u*u+c*c+f*f),h=r*o+n*l+a*s,p=d&&-P(h)/d,m=Math.atan2(d,h);Bo+=p*u,Yo+=p*c,Vo+=p*f,Fo+=m,Ho+=m*(r+(r=o)),Wo+=m*(n+(n=l)),Uo+=m*(a+(a=s)),Re(r,n,a)}var t,i,r,n,a;Go.point=function(o,l){t=o,i=l,Go.point=e,o*=Ja;var s=Math.cos(l*=Ja);r=s*Math.cos(o),n=s*Math.sin(o),a=Math.sin(l),Re(r,n,a)},Go.lineEnd=function(){e(t,i),Go.lineEnd=He,Go.point=$e}}function Ue(){return!0}function Be(e,t,i,r,n){var a=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,i=e[0],r=e[t];if(Fe(i,r)){n.lineStart();for(var l=0;t>l;++l)n.point((i=e[l])[0],i[1]);return void n.lineEnd()}var s={point:i,points:e,other:null,visited:!1,entry:!0,subject:!0},u={point:i,points:[i],other:s,visited:!1,entry:!1,subject:!1};s.other=u,a.push(s),o.push(u),s={point:r,points:[r],other:null,visited:!1,entry:!1,subject:!0},u={point:r,points:[r],other:s,visited:!1,entry:!0,subject:!1},s.other=u,a.push(s),o.push(u)}}),o.sort(t),Ye(a),Ye(o),a.length){for(var l=0,s=i,u=o.length;u>l;++l)o[l].entry=s=!s;for(var c,f,d,h=a[0];;){for(c=h;c.visited;)if((c=c.next)===h)return;f=c.points,n.lineStart();do{if(c.visited=c.other.visited=!0,c.entry){if(c.subject)for(var l=0;l<f.length;l++)n.point((d=f[l])[0],d[1]);else r(c.point,c.next.point,1,n);c=c.next}else{if(c.subject){f=c.prev.points;for(var l=f.length;--l>=0;)n.point((d=f[l])[0],d[1])}else r(c.point,c.prev.point,-1,n);c=c.prev}c=c.other,f=c.points}while(!c.visited);n.lineEnd()}}}function Ye(e){if(t=e.length){for(var t,i,r=0,n=e[0];++r<t;)n.next=i=e[r],i.prev=n,n=i;n.next=i=e[0],i.prev=n}}function Ve(e,t,i,r){return function(n,a){function o(t,i){var r=n(t,i);e(t=r[0],i=r[1])&&a.point(t,i)}function l(e,t){var i=n(e,t);g.point(i[0],i[1])}function s(){y.point=l,g.lineStart()}function u(){y.point=o,g.lineEnd()}function c(e,t){m.push([e,t]);var i=n(e,t);x.point(i[0],i[1])}function f(){x.lineStart(),m=[]}function d(){c(m[0][0],m[0][1]),x.lineEnd();var e,t=x.clean(),i=b.buffer(),r=i.length;if(m.pop(),p.push(m),m=null,r){if(1&t){e=i[0];var n,r=e.length-1,o=-1;for(a.lineStart();++o<r;)a.point((n=e[o])[0],n[1]);return void a.lineEnd()}r>1&&2&t&&i.push(i.pop().concat(i.shift())),h.push(i.filter(Ge))}}var h,p,m,g=t(a),v=n.invert(r[0],r[1]),y={point:o,lineStart:s,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=d,h=[],p=[],a.polygonStart()},polygonEnd:function(){y.point=o,y.lineStart=s,y.lineEnd=u,h=va.merge(h);var e=Ke(v,p);h.length?Be(h,Xe,e,i,a):e&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),a.polygonEnd(),h=p=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=Ze(),x=t(b);return y}}function Ge(e){return e.length>1}function Ze(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,i){e.push([t,i])},lineEnd:s,buffer:function(){var i=t;return t=[],e=null,i},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Xe(e,t){return((e=e.point)[0]<0?e[1]-Za-Xa:Za-e[1])-((t=t.point)[0]<0?t[1]-Za-Xa:Za-t[1])}function Ke(e,t){var i=e[0],r=e[1],n=[Math.sin(i),-Math.cos(i),0],a=0,o=0;Oo.reset();for(var l=0,s=t.length;s>l;++l){var u=t[l],c=u.length;if(c)for(var f=u[0],d=f[0],h=f[1]/2+Va/4,p=Math.sin(h),m=Math.cos(h),g=1;;){g===c&&(g=0),e=u[g];var v=e[0],y=e[1]/2+Va/4,b=Math.sin(y),x=Math.cos(y),w=v-d,k=Math.abs(w)>Va,_=p*b;if(Oo.add(Math.atan2(_*Math.sin(w),m*x+_*Math.cos(w))),a+=k?w+(w>=0?2:-2)*Va:w,k^d>=i^v>=i){var S=Le(Ne(f),Ne(e));ze(S);var C=Le(n,S);ze(C);var T=(k^w>=0?-1:1)*F(C[2]);(r>T||r===T&&(S[0]||S[1]))&&(o+=k^w>=0?1:-1)}if(!g++)break;d=v,p=b,m=x,f=e}}return(-Xa>a||Xa>a&&0>Oo)^1&o}function Je(e){var t,i=NaN,r=NaN,n=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var l=a>0?Va:-Va,s=Math.abs(a-i);Math.abs(s-Va)<Xa?(e.point(i,r=(r+o)/2>0?Za:-Za),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(a,r),t=0):n!==l&&s>=Va&&(Math.abs(i-n)<Xa&&(i-=n*Xa),Math.abs(a-l)<Xa&&(a-=l*Xa),r=et(i,r,a,o),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(i=a,r=o),n=l},lineEnd:function(){e.lineEnd(),i=r=NaN},clean:function(){return 2-t}}}function et(e,t,i,r){var n,a,o=Math.sin(e-i);return Math.abs(o)>Xa?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(i)-Math.sin(r)*(n=Math.cos(t))*Math.sin(e))/(n*a*o)):(t+r)/2}function tt(e,t,i,r){var n;if(null==e)n=i*Za,r.point(-Va,n),r.point(0,n),r.point(Va,n),r.point(Va,0),r.point(Va,-n),r.point(0,-n),r.point(-Va,-n),r.point(-Va,0),r.point(-Va,n);else if(Math.abs(e[0]-t[0])>Xa){var a=(e[0]<t[0]?1:-1)*Va;n=i*a/2,r.point(-a,n),r.point(0,n),r.point(a,n)}else r.point(t[0],t[1])}function it(e){function t(e,t){return Math.cos(e)*Math.cos(t)>a}function i(e){var i,a,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(f,d){var h,p=[f,d],m=t(f,d),g=o?m?0:n(f,d):m?n(f+(0>f?Va:-Va),d):0;if(!i&&(u=s=m)&&e.lineStart(),m!==s&&(h=r(i,p),(Fe(i,h)||Fe(p,h))&&(p[0]+=Xa,p[1]+=Xa,m=t(p[0],p[1]))),m!==s)c=0,m?(e.lineStart(),h=r(p,i),e.point(h[0],h[1])):(h=r(i,p),e.point(h[0],h[1]),e.lineEnd()),i=h;else if(l&&i&&o^m){var v;g&a||!(v=r(p,i,!0))||(c=0,o?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||i&&Fe(i,p)||e.point(p[0],p[1]),i=p,s=m,a=g},lineEnd:function(){s&&e.lineEnd(),i=null},clean:function(){return c|(u&&s)<<1}}}function r(e,t,i){var r=Ne(e),n=Ne(t),o=[1,0,0],l=Le(r,n),s=Ie(l,l),u=l[0],c=s-u*u;if(!c)return!i&&e;var f=a*s/c,d=-a*u/c,h=Le(o,l),p=Oe(o,f),m=Oe(l,d);Qe(p,m);var g=h,v=Ie(p,g),y=Ie(g,g),b=v*v-y*(Ie(p,p)-1);if(!(0>b)){var x=Math.sqrt(b),w=Oe(g,(-v-x)/y);if(Qe(w,p),w=Pe(w),!i)return w;var k,_=e[0],S=t[0],C=e[1],T=t[1];_>S&&(k=_,_=S,S=k);var j=S-_,M=Math.abs(j-Va)<Xa,D=M||Xa>j;if(!M&&C>T&&(k=C,C=T,T=k),D?M?C+T>0^w[1]<(Math.abs(w[0]-_)<Xa?C:T):C<=w[1]&&w[1]<=T:j>Va^(_<=w[0]&&w[0]<=S)){var E=Oe(g,(-v+x)/y);return Qe(E,p),[w,Pe(E)]}}}function n(t,i){var r=o?e:Va-e,n=0;return-r>t?n|=1:t>r&&(n|=2),-r>i?n|=4:i>r&&(n|=8),n}var a=Math.cos(e),o=a>0,l=Math.abs(a)>Xa,s=Dt(e,6*Ja);return Ve(t,i,s,o?[0,-e]:[-Va,e-Va])}function rt(e,t,i,r){function n(r,n){return Math.abs(r[0]-e)<Xa?n>0?0:3:Math.abs(r[0]-i)<Xa?n>0?2:1:Math.abs(r[1]-t)<Xa?n>0?1:0:n>0?3:2}function a(e,t){return o(e.point,t.point)}function o(e,t){var i=n(e,1),r=n(t,1);return i!==r?i-r:0===i?t[1]-e[1]:1===i?e[0]-t[0]:2===i?e[1]-t[1]:t[0]-e[0]}function l(n,a){var o=a[0]-n[0],l=a[1]-n[1],s=[0,1];return Math.abs(o)<Xa&&Math.abs(l)<Xa?e<=n[0]&&n[0]<=i&&t<=n[1]&&n[1]<=r:nt(e-n[0],o,s)&&nt(n[0]-i,-o,s)&&nt(t-n[1],l,s)&&nt(n[1]-r,-l,s)?(s[1]<1&&(a[0]=n[0]+s[1]*o,a[1]=n[1]+s[1]*l),s[0]>0&&(n[0]+=s[0]*o,n[1]+=s[0]*l),!0):!1}return function(s){function u(e){for(var t=0,i=y.length,r=e[1],n=0;i>n;++n)for(var a,o=1,l=y[n],s=l.length,u=l[0];s>o;++o)a=l[o],u[1]<=r?a[1]>r&&c(u,a,e)>0&&++t:a[1]<=r&&c(u,a,e)<0&&--t,u=a;return 0!==t}function c(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function f(a,l,s,u){var c=0,f=0;if(null==a||(c=n(a,s))!==(f=n(l,s))||o(a,l)<0^s>0){do u.point(0===c||3===c?e:i,c>1?r:t);while((c=(c+s+4)%4)!==f)}else u.point(l[0],l[1])}function d(n,a){return n>=e&&i>=n&&a>=t&&r>=a}function h(e,t){d(e,t)&&s.point(e,t)}function p(){E.point=g,y&&y.push(b=[]),T=!0,C=!1,_=S=NaN}function m(){v&&(g(x,w),k&&C&&D.rejoin(),v.push(D.buffer())),E.point=h,C&&s.lineEnd()}function g(e,t){e=Math.max(-Xo,Math.min(Xo,e)),t=Math.max(-Xo,Math.min(Xo,t));var i=d(e,t);if(y&&b.push([e,t]),T)x=e,w=t,k=i,T=!1,i&&(s.lineStart(),s.point(e,t));else if(i&&C)s.point(e,t);else{var r=[_,S],n=[e,t];l(r,n)?(C||(s.lineStart(),s.point(r[0],r[1])),s.point(n[0],n[1]),i||s.lineEnd(),j=!1):i&&(s.lineStart(),s.point(e,t),j=!1)}_=e,S=t,C=i}var v,y,b,x,w,k,_,S,C,T,j,M=s,D=Ze(),E={point:h,lineStart:p,lineEnd:m,polygonStart:function(){s=D,v=[],y=[],j=!0},polygonEnd:function(){s=M,v=va.merge(v);var t=u([e,r]),i=j&&t,n=v.length;(i||n)&&(s.polygonStart(),i&&(s.lineStart(),f(null,null,1,s),s.lineEnd()),n&&Be(v,a,t,f,s),s.polygonEnd()),v=y=b=null}};return E}}function nt(e,t,i){if(Math.abs(t)<Xa)return 0>=e;var r=e/t;if(t>0){if(r>i[1])return!1;r>i[0]&&(i[0]=r)}else{if(r<i[0])return!1;r<i[1]&&(i[1]=r)}return!0}function at(e,t){function i(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(i.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),i}function ot(e){var t=0,i=Va/3,r=wt(e),n=r(t,i);return n.parallels=function(e){return arguments.length?r(t=e[0]*Va/180,i=e[1]*Va/180):[180*(t/Va),180*(i/Va)]},n}function lt(e,t){function i(e,t){var i=Math.sqrt(a-2*n*Math.sin(t))/n;return[i*Math.sin(e*=n),o-i*Math.cos(e)]}var r=Math.sin(e),n=(r+Math.sin(t))/2,a=1+r*(2*n-r),o=Math.sqrt(a)/n;return i.invert=function(e,t){var i=o-t;return[Math.atan2(e,i)/n,F((a-(e*e+i*i)*n*n)/(2*n))]},i}function st(){function e(e,t){Jo+=n*e-r*t,r=e,n=t}var t,i,r,n;nl.point=function(a,o){nl.point=e,t=r=a,i=n=o},nl.lineEnd=function(){e(t,i)}}function ut(e,t){el>e&&(el=e),e>il&&(il=e),tl>t&&(tl=t),t>rl&&(rl=t)}function ct(){function e(e,t){o.push("M",e,",",t,a)}function t(e,t){o.push("M",e,",",t),l.point=i}function i(e,t){o.push("L",e,",",t)}function r(){l.point=e}function n(){o.push("Z")}var a=ft(4.5),o=[],l={point:e,lineStart:function(){l.point=t},lineEnd:r,polygonStart:function(){l.lineEnd=n},polygonEnd:function(){l.lineEnd=r,l.point=e},pointRadius:function(e){return a=ft(e),l},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return l}function ft(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function dt(e,t){$o+=e,Ro+=t,++qo}function ht(){function e(e,r){var n=e-t,a=r-i,o=Math.sqrt(n*n+a*a);Ho+=o*(t+e)/2,Wo+=o*(i+r)/2,Uo+=o,dt(t=e,i=r)}var t,i;ol.point=function(r,n){ol.point=e,dt(t=r,i=n)}}function pt(){ol.point=dt}function mt(){function e(e,t){var i=e-r,a=t-n,o=Math.sqrt(i*i+a*a);Ho+=o*(r+e)/2,Wo+=o*(n+t)/2,Uo+=o,o=n*e-r*t,Bo+=o*(r+e),Yo+=o*(n+t),Vo+=3*o,dt(r=e,n=t)}var t,i,r,n;ol.point=function(a,o){ol.point=e,dt(t=r=a,i=n=o)},ol.lineEnd=function(){e(t,i)}}function gt(e){function t(t,i){e.moveTo(t,i),e.arc(t,i,o,0,Ga)}function i(t,i){e.moveTo(t,i),l.point=r}function r(t,i){e.lineTo(t,i)}function n(){l.point=t}function a(){e.closePath()}var o=4.5,l={point:t,lineStart:function(){l.point=i},lineEnd:n,polygonStart:function(){l.lineEnd=a},polygonEnd:function(){l.lineEnd=n,l.point=t},pointRadius:function(e){return o=e,l},result:s};return l}function vt(e){function t(t){function r(i,r){i=e(i,r),t.point(i[0],i[1])}function n(){b=NaN,S.point=o,t.lineStart()}function o(r,n){var o=Ne([r,n]),l=e(r,n);i(b,x,y,w,k,_,b=l[0],x=l[1],y=r,w=o[0],k=o[1],_=o[2],a,t),t.point(b,x)}function l(){S.point=r,t.lineEnd()}function s(){n(),S.point=u,S.lineEnd=c}function u(e,t){o(f=e,d=t),h=b,p=x,m=w,g=k,v=_,S.point=o}function c(){i(b,x,y,w,k,_,h,p,f,m,g,v,a,t),S.lineEnd=l,l()}var f,d,h,p,m,g,v,y,b,x,w,k,_,S={point:r,lineStart:n,lineEnd:l,polygonStart:function(){t.polygonStart(),S.lineStart=s},polygonEnd:function(){t.polygonEnd(),S.lineStart=n}};return S}function i(t,a,o,l,s,u,c,f,d,h,p,m,g,v){var y=c-t,b=f-a,x=y*y+b*b;if(x>4*r&&g--){var w=l+h,k=s+p,_=u+m,S=Math.sqrt(w*w+k*k+_*_),C=Math.asin(_/=S),T=Math.abs(Math.abs(_)-1)<Xa?(o+d)/2:Math.atan2(k,w),j=e(T,C),M=j[0],D=j[1],E=M-t,A=D-a,N=b*E-y*A;(N*N/x>r||Math.abs((y*E+b*A)/x-.5)>.3||n>l*h+s*p+u*m)&&(i(t,a,o,l,s,u,M,D,T,w/=S,k/=S,_,g,v),v.point(M,D),i(M,D,T,w,k,_,c,f,d,h,p,m,g,v))}}var r=.5,n=Math.cos(30*Ja),a=16;return t.precision=function(e){return arguments.length?(a=(r=e*e)>0&&16,t):Math.sqrt(r)},t}function yt(e){this.stream=e}function bt(e){var t=vt(function(t,i){return e([t*eo,i*eo])});return function(e){var i=new yt(e=t(e));return i.point=function(t,i){e.point(t*Ja,i*Ja)},i}}function xt(e){return wt(function(){return e})()}function wt(e){function t(e){return e=l(e[0]*Ja,e[1]*Ja),[e[0]*d+s,u-e[1]*d]}function i(e){return e=l.invert((e[0]-s)/d,(u-e[1])/d),e&&[e[0]*eo,e[1]*eo]}function r(){l=at(o=Ct(v,y,b),a);var e=a(m,g);return s=h-e[0]*d,u=p+e[1]*d,n()}function n(){return c&&(c.valid=!1,c=null),t}var a,o,l,s,u,c,f=vt(function(e,t){return e=a(e,t),[e[0]*d+s,u-e[1]*d]}),d=150,h=480,p=250,m=0,g=0,v=0,y=0,b=0,x=Zo,w=me,k=null,_=null;return t.stream=function(e){return c&&(c.valid=!1),c=kt(x(o,f(w(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(x=null==e?(k=e,Zo):it((k=+e)*Ja),n()):k},t.clipExtent=function(e){return arguments.length?(_=e,w=e?rt(e[0][0],e[0][1],e[1][0],e[1][1]):me,n()):_},t.scale=function(e){return arguments.length?(d=+e,r()):d},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],r()):[h,p]},t.center=function(e){return arguments.length?(m=e[0]%360*Ja,g=e[1]%360*Ja,r()):[m*eo,g*eo]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Ja,y=e[1]%360*Ja,b=e.length>2?e[2]%360*Ja:0,r()):[v*eo,y*eo,b*eo]},va.rebind(t,f,"precision"),function(){return a=e.apply(this,arguments),t.invert=a.invert&&i,r()}}function kt(e){var t=new yt(e);return t.point=function(t,i){e.point(t*Ja,i*Ja)},t}function _t(e,t){return[e,t]}function St(e,t){return[e>Va?e-Ga:-Va>e?e+Ga:e,t]}function Ct(e,t,i){return e?t||i?at(jt(e),Mt(t,i)):jt(e):t||i?Mt(t,i):St}function Tt(e){return function(t,i){return t+=e,[t>Va?t-Ga:-Va>t?t+Ga:t,i]}}function jt(e){var t=Tt(e);return t.invert=Tt(-e),t}function Mt(e,t){function i(e,t){var i=Math.cos(t),l=Math.cos(e)*i,s=Math.sin(e)*i,u=Math.sin(t),c=u*r+l*n;return[Math.atan2(s*a-c*o,l*r-u*n),F(c*a+s*o)]}var r=Math.cos(e),n=Math.sin(e),a=Math.cos(t),o=Math.sin(t);return i.invert=function(e,t){var i=Math.cos(t),l=Math.cos(e)*i,s=Math.sin(e)*i,u=Math.sin(t),c=u*a-s*o;return[Math.atan2(s*a+u*o,l*r+c*n),F(c*r-l*n)]},i}function Dt(e,t){var i=Math.cos(e),r=Math.sin(e);return function(n,a,o,l){var s=o*t;null!=n?(n=Et(i,n),a=Et(i,a),(o>0?a>n:n>a)&&(n+=o*Ga)):(n=e+o*Ga,a=e-.5*s);for(var u,c=n;o>0?c>a:a>c;c-=s)l.point((u=Pe([i,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Et(e,t){var i=Ne(t);i[0]-=e,ze(i);var r=P(-i[1]);return((-i[2]<0?-r:r)+2*Math.PI-Xa)%(2*Math.PI)}function At(e,t,i){var r=va.range(e,t-Xa,i).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function Nt(e,t,i){var r=va.range(e,t-Xa,i).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function It(e){return e.source}function Lt(e){return e.target}function Qt(e,t,i,r){var n=Math.cos(t),a=Math.sin(t),o=Math.cos(r),l=Math.sin(r),s=n*Math.cos(e),u=n*Math.sin(e),c=o*Math.cos(i),f=o*Math.sin(i),d=2*Math.asin(Math.sqrt(H(r-t)+n*o*H(i-e))),h=1/Math.sin(d),p=d?function(e){var t=Math.sin(e*=d)*h,i=Math.sin(d-e)*h,r=i*s+t*c,n=i*u+t*f,o=i*a+t*l;return[Math.atan2(n,r)*eo,Math.atan2(o,Math.sqrt(r*r+n*n))*eo]}:function(){return[e*eo,t*eo]};return p.distance=d,p}function Ot(){function e(e,n){var a=Math.sin(n*=Ja),o=Math.cos(n),l=Math.abs((e*=Ja)-t),s=Math.cos(l);ll+=Math.atan2(Math.sqrt((l=o*Math.sin(l))*l+(l=r*a-i*o*s)*l),i*a+r*o*s),t=e,i=a,r=o}var t,i,r;sl.point=function(n,a){t=n*Ja,i=Math.sin(a*=Ja),r=Math.cos(a),sl.point=e},sl.lineEnd=function(){sl.point=sl.lineEnd=s}}function zt(e,t){function i(t,i){var r=Math.cos(t),n=Math.cos(i),a=e(r*n);return[a*n*Math.sin(t),a*Math.sin(i)]}return i.invert=function(e,i){var r=Math.sqrt(e*e+i*i),n=t(r),a=Math.sin(n),o=Math.cos(n);return[Math.atan2(e*a,r*o),Math.asin(r&&i*a/r)]},i}function Pt(e,t){function i(e,t){var i=Math.abs(Math.abs(t)-Za)<Xa?0:o/Math.pow(n(t),a);return[i*Math.sin(a*e),o-i*Math.cos(a*e)]}var r=Math.cos(e),n=function(e){return Math.tan(Va/4+e/2)},a=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(n(t)/n(e)),o=r*Math.pow(n(e),a)/a;return a?(i.invert=function(e,t){var i=o-t,r=z(a)*Math.sqrt(e*e+i*i);return[Math.atan2(e,i)/a,2*Math.atan(Math.pow(o/r,1/a))-Za]},i):$t}function Ft(e,t){function i(e,t){var i=a-t;return[i*Math.sin(n*e),a-i*Math.cos(n*e)]}var r=Math.cos(e),n=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),a=r/n+e;return Math.abs(n)<Xa?_t:(i.invert=function(e,t){var i=a-t;return[Math.atan2(e,i)/n,a-z(n)*Math.sqrt(e*e+i*i)]},i)}function $t(e,t){return[e,Math.log(Math.tan(Va/4+t/2))]}function Rt(e){var t,i=xt(e),r=i.scale,n=i.translate,a=i.clipExtent;return i.scale=function(){var e=r.apply(i,arguments);return e===i?t?i.clipExtent(null):i:e},i.translate=function(){var e=n.apply(i,arguments);return e===i?t?i.clipExtent(null):i:e},i.clipExtent=function(e){var o=a.apply(i,arguments);if(o===i){if(t=null==e){var l=Va*r(),s=n();a([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else t&&(o=null);return o},i.clipExtent(null)}function qt(e,t){var i=Math.cos(t)*Math.sin(e);return[Math.log((1+i)/(1-i))/2,Math.atan2(Math.tan(t),Math.cos(e))]}function Ht(e){function t(t){function o(){u.push("M",a(e(c),l))}for(var s,u=[],c=[],f=-1,d=t.length,h=pe(i),p=pe(r);++f<d;)n.call(this,s=t[f],f)?c.push([+h.call(this,s,f),+p.call(this,s,f)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var i=Wt,r=Ut,n=Ue,a=Bt,o=a.key,l=.7;return t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(n=e,t):n},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?a=e:(a=pl.get(e)||Bt).key,t):o},t.tension=function(e){return arguments.length?(l=e,t):l},t}function Wt(e){return e[0]}function Ut(e){return e[1]}function Bt(e){return e.join("L")}function Yt(e){return Bt(e)+"Z"}function Vt(e){for(var t=0,i=e.length,r=e[0],n=[r[0],",",r[1]];++t<i;)n.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return i>1&&n.push("H",r[0]),n.join("")}function Gt(e){for(var t=0,i=e.length,r=e[0],n=[r[0],",",r[1]];++t<i;)n.push("V",(r=e[t])[1],"H",r[0]);return n.join("")}function Zt(e){for(var t=0,i=e.length,r=e[0],n=[r[0],",",r[1]];++t<i;)n.push("H",(r=e[t])[0],"V",r[1]);return n.join("")}function Xt(e,t){return e.length<4?Bt(e):e[1]+ei(e.slice(1,e.length-1),ti(e,t))}function Kt(e,t){return e.length<3?Bt(e):e[0]+ei((e.push(e[0]),e),ti([e[e.length-2]].concat(e,[e[1]]),t))}function Jt(e,t){return e.length<3?Bt(e):e[0]+ei(e,ti(e,t))}function ei(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Bt(e);var i=e.length!=t.length,r="",n=e[0],a=e[1],o=t[0],l=o,s=1;if(i&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],n=e[1],s=2),t.length>1){l=t[1],a=e[s],s++,r+="C"+(n[0]+o[0])+","+(n[1]+o[1])+","+(a[0]-l[0])+","+(a[1]-l[1])+","+a[0]+","+a[1];for(var u=2;u<t.length;u++,s++)a=e[s],l=t[u],r+="S"+(a[0]-l[0])+","+(a[1]-l[1])+","+a[0]+","+a[1]}if(i){var c=e[s];r+="Q"+(a[0]+2*l[0]/3)+","+(a[1]+2*l[1]/3)+","+c[0]+","+c[1]}return r}function ti(e,t){for(var i,r=[],n=(1-t)/2,a=e[0],o=e[1],l=1,s=e.length;++l<s;)i=a,a=o,o=e[l],r.push([n*(o[0]-i[0]),n*(o[1]-i[1])]);return r}function ii(e){if(e.length<3)return Bt(e);var t=1,i=e.length,r=e[0],n=r[0],a=r[1],o=[n,n,n,(r=e[1])[0]],l=[a,a,a,r[1]],s=[n,",",a,"L",oi(vl,o),",",oi(vl,l)];for(e.push(e[i-1]);++t<=i;)r=e[t],o.shift(),o.push(r[0]),l.shift(),l.push(r[1]),li(s,o,l);return e.pop(),s.push("L",r),s.join("")}function ri(e){if(e.length<4)return Bt(e);for(var t,i=[],r=-1,n=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(i.push(oi(vl,a)+","+oi(vl,o)),--r;++r<n;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),li(i,a,o);return i.join("")}function ni(e){for(var t,i,r=-1,n=e.length,a=n+4,o=[],l=[];++r<4;)i=e[r%n],o.push(i[0]),l.push(i[1]);for(t=[oi(vl,o),",",oi(vl,l)],--r;++r<a;)i=e[r%n],o.shift(),o.push(i[0]),l.shift(),l.push(i[1]),li(t,o,l);return t.join("")}function ai(e,t){var i=e.length-1;if(i)for(var r,n,a=e[0][0],o=e[0][1],l=e[i][0]-a,s=e[i][1]-o,u=-1;++u<=i;)r=e[u],n=u/i,r[0]=t*r[0]+(1-t)*(a+n*l),r[1]=t*r[1]+(1-t)*(o+n*s);return ii(e)}function oi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function li(e,t,i){e.push("C",oi(ml,t),",",oi(ml,i),",",oi(gl,t),",",oi(gl,i),",",oi(vl,t),",",oi(vl,i))}function si(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ui(e){for(var t=0,i=e.length-1,r=[],n=e[0],a=e[1],o=r[0]=si(n,a);++t<i;)r[t]=(o+(o=si(n=a,a=e[t+1])))/2;return r[t]=o,r}function ci(e){
for(var t,i,r,n,a=[],o=ui(e),l=-1,s=e.length-1;++l<s;)t=si(e[l],e[l+1]),Math.abs(t)<Xa?o[l]=o[l+1]=0:(i=o[l]/t,r=o[l+1]/t,n=i*i+r*r,n>9&&(n=3*t/Math.sqrt(n),o[l]=n*i,o[l+1]=n*r));for(l=-1;++l<=s;)n=(e[Math.min(s,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+o[l]*o[l])),a.push([n||0,o[l]*n||0]);return a}function fi(e){return e.length<3?Bt(e):e[0]+ei(e,ci(e))}function di(e,t,i,r){var n,a,o,l,s,u,c;return n=r[e],a=n[0],o=n[1],n=r[t],l=n[0],s=n[1],n=r[i],u=n[0],c=n[1],(c-o)*(l-a)-(s-o)*(u-a)>0}function hi(e,t,i){return(i[0]-t[0])*(e[1]-t[1])<(i[1]-t[1])*(e[0]-t[0])}function pi(e,t,i,r){var n=e[0],a=i[0],o=t[0]-n,l=r[0]-a,s=e[1],u=i[1],c=t[1]-s,f=r[1]-u,d=(l*(s-u)-f*(n-a))/(f*o-l*c);return[n+d*o,s+d*c]}function mi(e){var t=e[0],i=e[e.length-1];return!(t[0]-i[0]||t[1]-i[1])}function gi(e,t){var i={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=r.leftEnd;do t=t.r;while(t!=r.rightEnd&&n.rightOf(t,e));return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?i.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?i.bottomSite:e.edge.region[bl[e.side]]}},n={bisect:function(e,t){var i={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,n=t.y-e.y,a=r>0?r:-r,o=n>0?n:-n;return i.c=e.x*r+e.y*n+.5*(r*r+n*n),a>o?(i.a=1,i.b=n/r,i.c/=r):(i.b=1,i.a=r/n,i.c/=n),i},intersect:function(e,t){var i=e.edge,r=t.edge;if(!i||!r||i.region.r==r.region.r)return null;var n=i.a*r.b-i.b*r.a;if(Math.abs(n)<1e-10)return null;var a,o,l=(i.c*r.b-r.c*i.b)/n,s=(r.c*i.a-i.c*r.a)/n,u=i.region.r,c=r.region.r;u.y<c.y||u.y==c.y&&u.x<c.x?(a=e,o=i):(a=t,o=r);var f=l>=o.region.r.x;return f&&"l"===a.side||!f&&"r"===a.side?null:{x:l,y:s}},rightOf:function(e,t){var i=e.edge,r=i.region.r,n=t.x>r.x;if(n&&"l"===e.side)return 1;if(!n&&"r"===e.side)return 0;if(1===i.a){var a=t.y-r.y,o=t.x-r.x,l=0,s=0;if(!n&&i.b<0||n&&i.b>=0?s=l=a>=i.b*o:(s=t.x+t.y*i.b>i.c,i.b<0&&(s=!s),s||(l=1)),!l){var u=r.x-i.region.l.x;s=i.b*(o*o-a*a)<u*a*(1+2*o/u+i.b*i.b),i.b<0&&(s=!s)}}else{var c=i.c-i.a*t.x,f=t.y-c,d=t.x-r.x,h=c-r.y;s=f*f>d*d+h*h}return"l"===e.side?s:!s},endPoint:function(e,i,r){e.ep[i]=r,e.ep[bl[i]]&&t(e)},distance:function(e,t){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)}},a={list:[],insert:function(e,t,i){e.vertex=t,e.ystar=t.y+i;for(var r=0,n=a.list,o=n.length;o>r;r++){var l=n[r];if(!(e.ystar>l.ystar||e.ystar==l.ystar&&t.x>l.vertex.x))break}n.splice(r,0,e)},del:function(e){for(var t=0,i=a.list,r=i.length;r>t&&i[t]!=e;++t);i.splice(t,1)},empty:function(){return 0===a.list.length},nextEvent:function(e){for(var t=0,i=a.list,r=i.length;r>t;++t)if(i[t]==e)return i[t+1];return null},min:function(){var e=a.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return a.list.shift()}};r.init(),i.bottomSite=i.list.shift();for(var o,l,s,u,c,f,d,h,p,m,g,v,y,b=i.list.shift();;)if(a.empty()||(o=a.min()),b&&(a.empty()||b.y<o.y||b.y==o.y&&b.x<o.x))l=r.leftBound(b),s=r.right(l),d=r.rightRegion(l),v=n.bisect(d,b),f=r.createHalfEdge(v,"l"),r.insert(l,f),m=n.intersect(l,f),m&&(a.del(l),a.insert(l,m,n.distance(m,b))),l=f,f=r.createHalfEdge(v,"r"),r.insert(l,f),m=n.intersect(f,s),m&&a.insert(f,m,n.distance(m,b)),b=i.list.shift();else{if(a.empty())break;l=a.extractMin(),u=r.left(l),s=r.right(l),c=r.right(s),d=r.leftRegion(l),h=r.rightRegion(s),g=l.vertex,n.endPoint(l.edge,l.side,g),n.endPoint(s.edge,s.side,g),r.del(l),a.del(s),r.del(s),y="l",d.y>h.y&&(p=d,d=h,h=p,y="r"),v=n.bisect(d,h),f=r.createHalfEdge(v,y),r.insert(u,f),n.endPoint(v,bl[y],g),m=n.intersect(u,f),m&&(a.del(u),a.insert(u,m,n.distance(m,d))),m=n.intersect(f,c),m&&a.insert(f,m,n.distance(m,d))}for(l=r.right(r.leftEnd);l!=r.rightEnd;l=r.right(l))t(l.edge)}function vi(e){return e.x}function yi(e){return e.y}function bi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function xi(e,t,i,r,n,a){if(!e(t,i,r,n,a)){var o=.5*(i+n),l=.5*(r+a),s=t.nodes;s[0]&&xi(e,s[0],i,r,o,l),s[1]&&xi(e,s[1],o,r,n,l),s[2]&&xi(e,s[2],i,l,o,a),s[3]&&xi(e,s[3],o,l,n,a)}}function wi(e,t){e=va.rgb(e),t=va.rgb(t);var i=e.r,r=e.g,n=e.b,a=t.r-i,o=t.g-r,l=t.b-n;return function(e){return"#"+se(Math.round(i+a*e))+se(Math.round(r+o*e))+se(Math.round(n+l*e))}}function ki(e,t){var i,r={},n={};for(i in e)i in t?r[i]=Ci(e[i],t[i]):n[i]=e[i];for(i in t)i in e||(n[i]=t[i]);return function(e){for(i in r)n[i]=r[i](e);return n}}function _i(e,t){return t-=e=+e,function(i){return e+t*i}}function Si(e,t){var i,r,n,a,o,l=0,s=0,u=[],c=[];for(e+="",t+="",xl.lastIndex=0,r=0;i=xl.exec(t);++r)i.index&&u.push(t.substring(l,s=i.index)),c.push({i:u.length,x:i[0]}),u.push(null),l=xl.lastIndex;for(l<t.length&&u.push(t.substring(l)),r=0,a=c.length;(i=xl.exec(e))&&a>r;++r)if(o=c[r],o.x==i[0]){if(o.i)if(null==u[o.i+1])for(u[o.i-1]+=o.x,u.splice(o.i,1),n=r+1;a>n;++n)c[n].i--;else for(u[o.i-1]+=o.x+u[o.i+1],u.splice(o.i,2),n=r+1;a>n;++n)c[n].i-=2;else if(null==u[o.i+1])u[o.i]=o.x;else for(u[o.i]=o.x+u[o.i+1],u.splice(o.i+1,1),n=r+1;a>n;++n)c[n].i--;c.splice(r,1),a--,r--}else o.x=_i(parseFloat(i[0]),parseFloat(o.x));for(;a>r;)o=c.pop(),null==u[o.i+1]?u[o.i]=o.x:(u[o.i]=o.x+u[o.i+1],u.splice(o.i+1,1)),a--;return 1===u.length?null==u[0]?(o=c[0].x,function(e){return o(e)+""}):function(){return t}:function(e){for(r=0;a>r;++r)u[(o=c[r]).i]=o.x(e);return u.join("")}}function Ci(e,t){for(var i,r=va.interpolators.length;--r>=0&&!(i=va.interpolators[r](e,t)););return i}function Ti(e,t){var i,r=[],n=[],a=e.length,o=t.length,l=Math.min(e.length,t.length);for(i=0;l>i;++i)r.push(Ci(e[i],t[i]));for(;a>i;++i)n[i]=e[i];for(;o>i;++i)n[i]=t[i];return function(e){for(i=0;l>i;++i)n[i]=r[i](e);return n}}function ji(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Mi(e){return function(t){return 1-e(1-t)}}function Di(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Ei(e){return e*e}function Ai(e){return e*e*e}function Ni(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,i=t*e;return 4*(.5>e?i:3*(e-t)+i-.75)}function Ii(e){return function(t){return Math.pow(t,e)}}function Li(e){return 1-Math.cos(e*Za)}function Qi(e){return Math.pow(2,10*(e-1))}function Oi(e){return 1-Math.sqrt(1-e*e)}function zi(e,t){var i;return arguments.length<2&&(t=.45),arguments.length?i=t/Ga*Math.asin(1/e):(e=1,i=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-i)*Ga/t)}}function Pi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Fi(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function $i(e,t){e=va.hcl(e),t=va.hcl(t);var i=e.h,r=e.c,n=e.l,a=t.h-i,o=t.c-r,l=t.l-n;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(a)?(a=0,i=isNaN(i)?t.h:i):a>180?a-=360:-180>a&&(a+=360),function(e){return Z(i+a*e,r+o*e,n+l*e)+""}}function Ri(e,t){e=va.hsl(e),t=va.hsl(t);var i=e.h,r=e.s,n=e.l,a=t.h-i,o=t.s-r,l=t.l-n;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(a)?(a=0,i=isNaN(i)?t.h:i):a>180?a-=360:-180>a&&(a+=360),function(e){return Y(i+a*e,r+o*e,n+l*e)+""}}function qi(e,t){e=va.lab(e),t=va.lab(t);var i=e.l,r=e.a,n=e.b,a=t.l-i,o=t.a-r,l=t.b-n;return function(e){return J(i+a*e,r+o*e,n+l*e)+""}}function Hi(e,t){return t-=e,function(i){return Math.round(e+t*i)}}function Wi(e){var t=[e.a,e.b],i=[e.c,e.d],r=Bi(t),n=Ui(t,i),a=Bi(Yi(i,t,-n))||0;t[0]*i[1]<i[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,n*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-i[0],i[1]))*eo,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(n,a)*eo:0}function Ui(e,t){return e[0]*t[0]+e[1]*t[1]}function Bi(e){var t=Math.sqrt(Ui(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Yi(e,t,i){return e[0]+=i*t[0],e[1]+=i*t[1],e}function Vi(e,t){var i,r=[],n=[],a=va.transform(e),o=va.transform(t),l=a.translate,s=o.translate,u=a.rotate,c=o.rotate,f=a.skew,d=o.skew,h=a.scale,p=o.scale;return l[0]!=s[0]||l[1]!=s[1]?(r.push("translate(",null,",",null,")"),n.push({i:1,x:_i(l[0],s[0])},{i:3,x:_i(l[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),n.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:_i(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=d?n.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:_i(f,d)}):d&&r.push(r.pop()+"skewX("+d+")"),h[0]!=p[0]||h[1]!=p[1]?(i=r.push(r.pop()+"scale(",null,",",null,")"),n.push({i:i-4,x:_i(h[0],p[0])},{i:i-2,x:_i(h[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),i=n.length,function(e){for(var t,a=-1;++a<i;)r[(t=n[a]).i]=t.x(e);return r.join("")}}function Gi(e,t){return t=t-(e=+e)?1/(t-e):0,function(i){return(i-e)*t}}function Zi(e,t){return t=t-(e=+e)?1/(t-e):0,function(i){return Math.max(0,Math.min(1,(i-e)*t))}}function Xi(e){for(var t=e.source,i=e.target,r=Ji(t,i),n=[t];t!==r;)t=t.parent,n.push(t);for(var a=n.length;i!==r;)n.splice(a,0,i),i=i.parent;return n}function Ki(e){for(var t=[],i=e.parent;null!=i;)t.push(e),e=i,i=i.parent;return t.push(e),t}function Ji(e,t){if(e===t)return e;for(var i=Ki(e),r=Ki(t),n=i.pop(),a=r.pop(),o=null;n===a;)o=n,n=i.pop(),a=r.pop();return o}function er(e){e.fixed|=2}function tr(e){e.fixed&=-7}function ir(e){e.fixed|=4,e.px=e.x,e.py=e.y}function rr(e){e.fixed&=-5}function nr(e,t,i){var r=0,n=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,l=o.length,s=-1;++s<l;)a=o[s],null!=a&&(nr(a,t,i),e.charge+=a.charge,r+=a.charge*a.cx,n+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*i[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,n+=u*e.point.y}e.cx=r/e.charge,e.cy=n/e.charge}function ar(e,t){return va.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ur,e}function or(e){return e.children}function lr(e){return e.value}function sr(e,t){return t.value-e.value}function ur(e){return va.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function cr(e){return e.x}function fr(e){return e.y}function dr(e,t,i){e.y0=t,e.y=i}function hr(e){return va.range(e.length)}function pr(e){for(var t=-1,i=e[0].length,r=[];++t<i;)r[t]=0;return r}function mr(e){for(var t,i=1,r=0,n=e[0][1],a=e.length;a>i;++i)(t=e[i][1])>n&&(r=i,n=t);return r}function gr(e){return e.reduce(vr,0)}function vr(e,t){return e+t[1]}function yr(e,t){return br(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function br(e,t){for(var i=-1,r=+e[0],n=(e[1]-r)/t,a=[];++i<=t;)a[i]=n*i+r;return a}function xr(e){return[va.min(e),va.max(e)]}function wr(e,t){return e.parent==t.parent?1:2}function kr(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function _r(e){var t,i=e.children;return i&&(t=i.length)?i[t-1]:e._tree.thread}function Sr(e,t){var i=e.children;if(i&&(n=i.length))for(var r,n,a=-1;++a<n;)t(r=Sr(i[a],t),e)>0&&(e=r);return e}function Cr(e,t){return e.x-t.x}function Tr(e,t){return t.x-e.x}function jr(e,t){return e.depth-t.depth}function Mr(e,t){function i(e,r){var n=e.children;if(n&&(o=n.length))for(var a,o,l=null,s=-1;++s<o;)a=n[s],i(a,l),l=a;t(e,r)}i(e,null)}function Dr(e){for(var t,i=0,r=0,n=e.children,a=n.length;--a>=0;)t=n[a]._tree,t.prelim+=i,t.mod+=i,i+=t.shift+(r+=t.change)}function Er(e,t,i){e=e._tree,t=t._tree;var r=i/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=i,t.prelim+=i,t.mod+=i}function Ar(e,t,i){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:i}function Nr(e,t){return e.value-t.value}function Ir(e,t){var i=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=i,i._pack_prev=t}function Lr(e,t){e._pack_next=t,t._pack_prev=e}function Qr(e,t){var i=t.x-e.x,r=t.y-e.y,n=e.r+t.r;return.999*n*n>i*i+r*r}function Or(e){function t(e){c=Math.min(e.x-e.r,c),f=Math.max(e.x+e.r,f),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}if((i=e.children)&&(u=i.length)){var i,r,n,a,o,l,s,u,c=1/0,f=-1/0,d=1/0,h=-1/0;if(i.forEach(zr),r=i[0],r.x=-r.r,r.y=0,t(r),u>1&&(n=i[1],n.x=n.r,n.y=0,t(n),u>2))for(a=i[2],$r(r,n,a),t(a),Ir(r,a),r._pack_prev=a,Ir(a,n),n=r._pack_next,o=3;u>o;o++){$r(r,n,a=i[o]);var p=0,m=1,g=1;for(l=n._pack_next;l!==n;l=l._pack_next,m++)if(Qr(l,a)){p=1;break}if(1==p)for(s=r._pack_prev;s!==l._pack_prev&&!Qr(s,a);s=s._pack_prev,g++);p?(g>m||m==g&&n.r<r.r?Lr(r,n=l):Lr(r=s,n),o--):(Ir(r,a),n=a,t(a))}var v=(c+f)/2,y=(d+h)/2,b=0;for(o=0;u>o;o++)a=i[o],a.x-=v,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,i.forEach(Pr)}}function zr(e){e._pack_next=e._pack_prev=e}function Pr(e){delete e._pack_next,delete e._pack_prev}function Fr(e,t,i,r){var n=e.children;if(e.x=t+=r*e.x,e.y=i+=r*e.y,e.r*=r,n)for(var a=-1,o=n.length;++a<o;)Fr(n[a],t,i,r)}function $r(e,t,i){var r=e.r+i.r,n=t.x-e.x,a=t.y-e.y;if(r&&(n||a)){var o=t.r+i.r,l=n*n+a*a;o*=o,r*=r;var s=.5+(r-o)/(2*l),u=Math.sqrt(Math.max(0,2*o*(r+l)-(r-=l)*r-o*o))/(2*l);i.x=e.x+s*n+u*a,i.y=e.y+s*a-u*n}else i.x=e.x+r,i.y=e.y}function Rr(e){return 1+va.max(e,function(e){return e.y})}function qr(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Hr(e){var t=e.children;return t&&t.length?Hr(t[0]):e}function Wr(e){var t,i=e.children;return i&&(t=i.length)?Wr(i[t-1]):e}function Ur(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Br(e,t){var i=e.x+t[3],r=e.y+t[0],n=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>n&&(i+=n/2,n=0),0>a&&(r+=a/2,a=0),{x:i,y:r,dx:n,dy:a}}function Yr(e){var t=e[0],i=e[e.length-1];return i>t?[t,i]:[i,t]}function Vr(e){return e.rangeExtent?e.rangeExtent():Yr(e.range())}function Gr(e,t,i,r){var n=i(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(n(e))}}function Zr(e,t){var i,r=0,n=e.length-1,a=e[r],o=e[n];return a>o&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function Xr(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:El}function Kr(e,t,i,r){var n=[],a=[],o=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=l;)n.push(i(e[o-1],e[o])),a.push(r(t[o-1],t[o]));return function(t){var i=va.bisect(e,t,1,l)-1;return a[i](n[i](t))}}function Jr(e,t,i,r){function n(){var n=Math.min(e.length,t.length)>2?Kr:Gr,s=r?Zi:Gi;return o=n(e,t,s,i),l=n(t,e,s,Ci),a}function a(e){return o(e)}var o,l;return a.invert=function(e){return l(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),n()):e},a.range=function(e){return arguments.length?(t=e,n()):t},a.rangeRound=function(e){return a.range(e).interpolate(Hi)},a.clamp=function(e){return arguments.length?(r=e,n()):r},a.interpolate=function(e){return arguments.length?(i=e,n()):i},a.ticks=function(t){return nn(e,t)},a.tickFormat=function(t,i){return an(e,t,i)},a.nice=function(t){return tn(e,t),n()},a.copy=function(){return Jr(e,t,i,r)},n()}function en(e,t){return va.rebind(e,t,"range","rangeRound","interpolate","clamp")}function tn(e,t){return Zr(e,Xr(rn(e,t)[2]))}function rn(e,t){null==t&&(t=10);var i=Yr(e),r=i[1]-i[0],n=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*n;return.15>=a?n*=10:.35>=a?n*=5:.75>=a&&(n*=2),i[0]=Math.ceil(i[0]/n)*n,i[1]=Math.floor(i[1]/n)*n+.5*n,i[2]=n,i}function nn(e,t){return va.range.apply(va,rn(e,t))}function an(e,t,i){var r=-Math.floor(Math.log(rn(e,t)[2])/Math.LN10+.01);return va.format(i?i.replace(Mo,function(e,t,i,n,a,o,l,s,u,c){return[t,i,n,a,o,l,s,u||"."+(r-2*("%"===c)),c].join("")}):",."+r+"f")}function on(e,t,i,r){function n(e){return(i?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return i?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(n(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(i=t[0]>=0,e.domain((r=t.map(Number)).map(n)),o):r},o.base=function(i){return arguments.length?(t=+i,e.domain(r.map(n)),o):t},o.nice=function(){var t=Zr(r.map(n),i?Math:Nl);return e.domain(t),r=t.map(a),o},o.ticks=function(){var e=Yr(r),o=[],l=e[0],s=e[1],u=Math.floor(n(l)),c=Math.ceil(n(s)),f=t%1?2:t;if(isFinite(c-u)){if(i){for(;c>u;u++)for(var d=1;f>d;d++)o.push(a(u)*d);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var d=f-1;d>0;d--)o.push(a(u)*d);for(u=0;o[u]<l;u++);for(c=o.length;o[c-1]>s;c--);o=o.slice(u,c)}return o},o.tickFormat=function(e,t){if(!arguments.length)return Al;arguments.length<2?t=Al:"function"!=typeof t&&(t=va.format(t));var r,l=Math.max(.1,e/o.ticks().length),s=i?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/a(s(n(e)+r))<=l?t(e):""}},o.copy=function(){return on(e.copy(),t,i,r)},en(o,e)}function ln(e,t,i){function r(t){return e(n(t))}var n=sn(t),a=sn(1/t);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(n)),r):i},r.ticks=function(e){return nn(i,e)},r.tickFormat=function(e,t){return an(i,e,t)},r.nice=function(e){return r.domain(tn(i,e))},r.exponent=function(o){return arguments.length?(n=sn(t=o),a=sn(1/t),e.domain(i.map(n)),r):t},r.copy=function(){return ln(e.copy(),t,i)},en(r,e)}function sn(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function un(e,t){function i(i){return o[((a.get(i)||"range"===t.t&&a.set(i,e.push(i)))-1)%o.length]}function r(t,i){return va.range(e.length).map(function(e){return t+i*e})}var a,o,l;return i.domain=function(r){if(!arguments.length)return e;e=[],a=new n;for(var o,l=-1,s=r.length;++l<s;)a.has(o=r[l])||a.set(o,e.push(o));return i[t.t].apply(i,t.a)},i.range=function(e){return arguments.length?(o=e,l=0,t={t:"range",a:arguments},i):o},i.rangePoints=function(n,a){arguments.length<2&&(a=0);var s=n[0],u=n[1],c=(u-s)/(Math.max(1,e.length-1)+a);return o=r(e.length<2?(s+u)/2:s+c*a/2,c),l=0,t={t:"rangePoints",a:arguments},i},i.rangeBands=function(n,a,s){arguments.length<2&&(a=0),arguments.length<3&&(s=a);var u=n[1]<n[0],c=n[u-0],f=n[1-u],d=(f-c)/(e.length-a+2*s);return o=r(c+d*s,d),u&&o.reverse(),l=d*(1-a),t={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(n,a,s){arguments.length<2&&(a=0),arguments.length<3&&(s=a);var u=n[1]<n[0],c=n[u-0],f=n[1-u],d=Math.floor((f-c)/(e.length-a+2*s)),h=f-c-(e.length-a)*d;return o=r(c+Math.round(h/2),d),u&&o.reverse(),l=Math.round(d*(1-a)),t={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return l},i.rangeExtent=function(){return Yr(t.a[0])},i.copy=function(){return un(e,t)},i.domain(e)}function cn(e,t){function i(){var i=0,a=t.length;for(n=[];++i<a;)n[i-1]=va.quantile(e,i/a);return r}function r(e){return isNaN(e=+e)?void 0:t[va.bisect(n,e)]}var n;return r.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(va.ascending),i()):e},r.range=function(e){return arguments.length?(t=e,i()):t},r.quantiles=function(){return n},r.invertExtent=function(i){return i=t.indexOf(i),0>i?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},r.copy=function(){return cn(e,t)},i()}function fn(e,t,i){function r(t){return i[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function n(){return a=i.length/(t-e),o=i.length-1,r}var a,o;return r.domain=function(i){return arguments.length?(e=+i[0],t=+i[i.length-1],n()):[e,t]},r.range=function(e){return arguments.length?(i=e,n()):i},r.invertExtent=function(t){return t=i.indexOf(t),t=0>t?NaN:t/a+e,[t,t+1/a]},r.copy=function(){return fn(e,t,i)},n()}function dn(e,t){function i(i){return i>=i?t[va.bisect(e,i)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(e){return arguments.length?(t=e,i):t},i.invertExtent=function(i){return i=t.indexOf(i),[e[i-1],e[i]]},i.copy=function(){return dn(e,t)},i}function hn(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(e=i.map(t),t):e},t.ticks=function(t){return nn(e,t)},t.tickFormat=function(t,i){return an(e,t,i)},t.copy=function(){return hn(e)},t}function pn(e){return e.innerRadius}function mn(e){return e.outerRadius}function gn(e){return e.startAngle}function vn(e){return e.endAngle}function yn(e){for(var t,i,r,n=-1,a=e.length;++n<a;)t=e[n],i=t[0],r=t[1]+zl,t[0]=i*Math.cos(r),t[1]=i*Math.sin(r);return e}function bn(e){function t(t){function s(){m.push("M",l(e(v),f),c,u(e(g.reverse()),f),"Z")}for(var d,h,p,m=[],g=[],v=[],y=-1,b=t.length,x=pe(i),w=pe(n),k=i===r?function(){return h}:pe(r),_=n===a?function(){return p}:pe(a);++y<b;)o.call(this,d=t[y],y)?(g.push([h=+x.call(this,d,y),p=+w.call(this,d,y)]),v.push([+k.call(this,d,y),+_.call(this,d,y)])):g.length&&(s(),g=[],v=[]);return g.length&&s(),m.length?m.join(""):null}var i=Wt,r=Wt,n=0,a=Ut,o=Ue,l=Bt,s=l.key,u=l,c="L",f=.7;return t.x=function(e){return arguments.length?(i=r=e,t):r},t.x0=function(e){return arguments.length?(i=e,t):i},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(n=a=e,t):a},t.y0=function(e){return arguments.length?(n=e,t):n},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?l=e:(l=pl.get(e)||Bt).key,u=l.reverse||l,c=l.closed?"M":"L",t):s},t.tension=function(e){return arguments.length?(f=e,t):f},t}function xn(e){return e.radius}function wn(e){return[e.x,e.y]}function kn(e){return function(){var t=e.apply(this,arguments),i=t[0],r=t[1]+zl;return[i*Math.cos(r),i*Math.sin(r)]}}function _n(){return 64}function Sn(){return"circle"}function Cn(e){var t=Math.sqrt(e/Va);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Tn(e,t){return Qa(e,Wl),e.id=t,e}function jn(e,t,i,r){var n=e.id;return M(e,"function"==typeof i?function(e,a,o){e.__transition__[n].tween.set(t,r(i.call(e,e.__data__,a,o)))}:(i=r(i),function(e){e.__transition__[n].tween.set(t,i)}))}function Mn(e){return null==e&&(e=""),function(){this.textContent=e}}function Dn(e,t,i,r){var a=e.__transition__||(e.__transition__={active:0,count:0}),o=a[i];if(!o){var l=r.time;o=a[i]={tween:new n,time:l,ease:r.ease,delay:r.delay,duration:r.duration},++a.count,va.timer(function(r){function n(r){return a.active>i?u():(a.active=i,o.event&&o.event.start.call(e,c,t),o.tween.forEach(function(i,r){(r=r.call(e,c,t))&&p.push(r)}),s(r||1)?1:void xe(s,d,l))}function s(r){if(a.active!==i)return u();for(var n=r/h,l=f(n),s=p.length;s>0;)p[--s].call(e,l);return n>=1?(o.event&&o.event.end.call(e,c,t),u()):void 0}function u(){return--a.count?delete a[i]:delete e.__transition__,1}var c=e.__data__,f=o.ease,d=o.delay,h=o.duration,p=[];return r>=d?n(r-d):void xe(n,d,l)},0,l)}}function En(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function An(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Nn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function In(e,t,i){function r(t){var i=e(t),r=a(i,1);return r-t>t-i?i:r}function n(i){return t(i=e(new Xl(i-1)),1),i}function a(e,i){return t(e=new Xl(+e),i),e}function o(e,r,a){var o=n(e),l=[];if(a>1)for(;r>o;)i(o)%a||l.push(new Date(+o)),t(o,1);else for(;r>o;)l.push(new Date(+o)),t(o,1);return l}function l(e,t,i){try{Xl=Nn;var r=new Nn;return r._=e,o(r,t,i)}finally{Xl=Date}}e.floor=e,e.round=r,e.ceil=n,e.offset=a,e.range=o;var s=e.utc=Ln(e);return s.floor=s,s.round=Ln(r),s.ceil=Ln(n),s.offset=Ln(a),s.range=l,e}function Ln(e){return function(t,i){try{Xl=Nn;var r=new Nn;return r._=t,e(r,i)._}finally{Xl=Date}}}function Qn(e){function t(t){for(var r,n,a,o=[],l=-1,s=0;++l<i;)37===e.charCodeAt(l)&&(o.push(e.substring(s,l)),null!=(n=gs[r=e.charAt(++l)])&&(r=e.charAt(++l)),(a=vs[r])&&(r=a(t,null==n?"e"===r?" ":"0":n)),o.push(r),s=l+1);return o.push(e.substring(s,l)),o.join("")}var i=e.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=On(i,e,t,0);if(r!=t.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var n=null!=i.Z&&Xl!==Nn,a=new(n?Nn:Xl);return"j"in i?a.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(a.setFullYear(i.y,0,1),a.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(a.getDay()+5)%7:i.w+7*i.U-(a.getDay()+6)%7)):a.setFullYear(i.y,i.m,i.d),a.setHours(i.H+Math.floor(i.Z/100),i.M+i.Z%100,i.S,i.L),n?a._:a},t.toString=function(){return e},t}function On(e,t,i,r){for(var n,a,o,l=0,s=t.length,u=i.length;s>l;){if(r>=u)return-1;if(n=t.charCodeAt(l++),37===n){if(o=t.charAt(l++),a=ys[o in gs?t.charAt(l++):o],!a||(r=a(e,i,r))<0)return-1}else if(n!=i.charCodeAt(r++))return-1}return r}function zn(e){return new RegExp("^(?:"+e.map(va.requote).join("|")+")","i")}function Pn(e){for(var t=new n,i=-1,r=e.length;++i<r;)t.set(e[i].toLowerCase(),i);return t}function Fn(e,t,i){var r=0>e?"-":"",n=(r?-e:e)+"",a=n.length;return r+(i>a?new Array(i-a+1).join(t)+n:n)}function $n(e,t,i){us.lastIndex=0;var r=us.exec(t.substring(i));return r?(e.w=cs.get(r[0].toLowerCase()),i+r[0].length):-1}function Rn(e,t,i){ls.lastIndex=0;var r=ls.exec(t.substring(i));return r?(e.w=ss.get(r[0].toLowerCase()),i+r[0].length):-1}function qn(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function Hn(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i));return r?(e.U=+r[0],i+r[0].length):-1}function Wn(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i));return r?(e.W=+r[0],i+r[0].length):-1}function Un(e,t,i){hs.lastIndex=0;var r=hs.exec(t.substring(i));return r?(e.m=ps.get(r[0].toLowerCase()),i+r[0].length):-1}function Bn(e,t,i){fs.lastIndex=0;var r=fs.exec(t.substring(i));return r?(e.m=ds.get(r[0].toLowerCase()),i+r[0].length):-1}function Yn(e,t,i){return On(e,vs.c.toString(),t,i)}function Vn(e,t,i){return On(e,vs.x.toString(),t,i)}function Gn(e,t,i){return On(e,vs.X.toString(),t,i)}function Zn(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function Xn(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+2));return r?(e.y=Jn(+r[0]),i+r[0].length):-1}function Kn(e,t,i){return/^[+-]\d{4}$/.test(t=t.substring(i,i+5))?(e.Z=+t,i+5):-1}function Jn(e){return e+(e>68?1900:2e3)}function ea(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function ta(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function ia(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+3));return r?(e.j=+r[0],i+r[0].length):-1}function ra(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function na(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function aa(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function oa(e,t,i){bs.lastIndex=0;var r=bs.exec(t.substring(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function la(e,t,i){var r=xs.get(t.substring(i,i+=2).toLowerCase());return null==r?-1:(e.p=r,i)}function sa(e){var t=e.getTimezoneOffset(),i=t>0?"-":"+",r=~~(Math.abs(t)/60),n=Math.abs(t)%60;return i+Fn(r,"0",2)+Fn(n,"0",2)}function ua(e,t,i){ms.lastIndex=0;var r=ms.exec(t.substring(i,i+1));return r?i+r[0].length:-1}function ca(e){function t(e){try{Xl=Nn;var t=new Xl;return t._=e,i(t)}finally{Xl=Date}}var i=Qn(e);return t.parse=function(e){try{Xl=Nn;var t=i.parse(e);return t&&t._}finally{Xl=Date}},t.toString=i.toString,t}function fa(e){return e.toISOString()}function da(e,t,i){function r(t){return e(t)}function n(e,i){var r=e[1]-e[0],n=r/i,a=va.bisect(ks,n);return a==ks.length?[t.year,rn(e.map(function(e){return e/31536e6}),i)[2]]:a?t[n/ks[a-1]<ks[a]/n?a-1:a]:[Ts,rn(e,i)[2]]}return r.invert=function(t){return ha(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(ha)},r.nice=function(e,t){function i(i){return!isNaN(i)&&!e.range(i,ha(+i+1),t).length}var a=r.domain(),o=Yr(a),l=null==e?n(o,10):"number"==typeof e&&n(o,e);return l&&(e=l[0],t=l[1]),r.domain(Zr(a,t>1?{floor:function(t){for(;i(t=e.floor(t));)t=ha(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=ha(+t+1);return t}}:e))},r.ticks=function(e,t){var i=Yr(r.domain()),a=null==e?n(i,10):"number"==typeof e?n(i,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(i[0],ha(+i[1]+1),1>t?1:t)},r.tickFormat=function(){return i},r.copy=function(){return da(e.copy(),t,i)},en(r,e)}function ha(e){return new Date(e)}function pa(e){return function(t){for(var i=e.length-1,r=e[i];!r[1](t);)r=e[--i];return r[0](t)}}function ma(e){return JSON.parse(e.responseText)}function ga(e){var t=xa.createRange();return t.selectNode(xa.body),t.createContextualFragment(e.responseText)}var va={version:"3.3.6"};Date.now||(Date.now=function(){return+new Date});var ya=[].slice,ba=function(e){return ya.call(e)},xa=document,wa=xa.documentElement,ka=window;try{ba(wa.childNodes)[0].nodeType}catch(_a){ba=function(e){for(var t=e.length,i=new Array(t);t--;)i[t]=e[t];return i}}try{xa.createElement("div").style.setProperty("opacity",0,"")}catch(Sa){var Ca=ka.Element.prototype,Ta=Ca.setAttribute,ja=Ca.setAttributeNS,Ma=ka.CSSStyleDeclaration.prototype,Da=Ma.setProperty;Ca.setAttribute=function(e,t){Ta.call(this,e,t+"")},Ca.setAttributeNS=function(e,t,i){ja.call(this,e,t,i+"")},Ma.setProperty=function(e,t,i){Da.call(this,e,t+"",i)}}va.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:NaN},va.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},va.min=function(e,t){var i,r,n=-1,a=e.length;if(1===arguments.length){for(;++n<a&&!(null!=(i=e[n])&&i>=i);)i=void 0;for(;++n<a;)null!=(r=e[n])&&i>r&&(i=r)}else{for(;++n<a&&!(null!=(i=t.call(e,e[n],n))&&i>=i);)i=void 0;for(;++n<a;)null!=(r=t.call(e,e[n],n))&&i>r&&(i=r)}return i},va.max=function(e,t){var i,r,n=-1,a=e.length;if(1===arguments.length){for(;++n<a&&!(null!=(i=e[n])&&i>=i);)i=void 0;for(;++n<a;)null!=(r=e[n])&&r>i&&(i=r)}else{for(;++n<a&&!(null!=(i=t.call(e,e[n],n))&&i>=i);)i=void 0;for(;++n<a;)null!=(r=t.call(e,e[n],n))&&r>i&&(i=r)}return i},va.extent=function(e,t){var i,r,n,a=-1,o=e.length;if(1===arguments.length){for(;++a<o&&!(null!=(i=n=e[a])&&i>=i);)i=n=void 0;for(;++a<o;)null!=(r=e[a])&&(i>r&&(i=r),r>n&&(n=r))}else{for(;++a<o&&!(null!=(i=n=t.call(e,e[a],a))&&i>=i);)i=void 0;for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(i>r&&(i=r),r>n&&(n=r))}return[i,n]},va.sum=function(e,t){var i,r=0,n=e.length,a=-1;if(1===arguments.length)for(;++a<n;)isNaN(i=+e[a])||(r+=i);else for(;++a<n;)isNaN(i=+t.call(e,e[a],a))||(r+=i);return r},va.mean=function(t,i){var r,n=t.length,a=0,o=-1,l=0;if(1===arguments.length)for(;++o<n;)e(r=t[o])&&(a+=(r-a)/++l);else for(;++o<n;)e(r=i.call(t,t[o],o))&&(a+=(r-a)/++l);return l?a:void 0},va.quantile=function(e,t){var i=(e.length-1)*t+1,r=Math.floor(i),n=+e[r-1],a=i-r;return a?n+a*(e[r]-n):n},va.median=function(t,i){return arguments.length>1&&(t=t.map(i)),t=t.filter(e),t.length?va.quantile(t.sort(va.ascending),.5):void 0},va.bisector=function(e){return{left:function(t,i,r,n){for(arguments.length<3&&(r=0),arguments.length<4&&(n=t.length);n>r;){var a=r+n>>>1;e.call(t,t[a],a)<i?r=a+1:n=a}return r},right:function(t,i,r,n){for(arguments.length<3&&(r=0),arguments.length<4&&(n=t.length);n>r;){var a=r+n>>>1;i<e.call(t,t[a],a)?n=a:r=a+1}return r}}};var Ea=va.bisector(function(e){return e});va.bisectLeft=Ea.left,va.bisect=va.bisectRight=Ea.right,va.shuffle=function(e){for(var t,i,r=e.length;r;)i=0|Math.random()*r--,t=e[r],e[r]=e[i],e[i]=t;return e},va.permute=function(e,t){for(var i=t.length,r=new Array(i);i--;)r[i]=e[t[i]];return r},va.pairs=function(e){for(var t,i=0,r=e.length-1,n=e[0],a=new Array(0>r?0:r);r>i;)a[i]=[t=n,n=e[++i]];return a},va.zip=function(){if(!(n=arguments.length))return[];for(var e=-1,i=va.min(arguments,t),r=new Array(i);++e<i;)for(var n,a=-1,o=r[e]=new Array(n);++a<n;)o[a]=arguments[a][e];return r},va.transpose=function(e){return va.zip.apply(va,e)},va.keys=function(e){var t=[];for(var i in e)t.push(i);return t},va.values=function(e){var t=[];for(var i in e)t.push(e[i]);return t},va.entries=function(e){var t=[];for(var i in e)t.push({
key:i,value:e[i]});return t},va.merge=function(e){return Array.prototype.concat.apply([],e)},va.range=function(e,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/r)throw new Error("infinite range");var n,a=[],o=i(Math.abs(r)),l=-1;if(e*=o,t*=o,r*=o,0>r)for(;(n=e+r*++l)>t;)a.push(n/o);else for(;(n=e+r*++l)<t;)a.push(n/o);return a},va.map=function(e){var t=new n;if(e instanceof n)e.forEach(function(e,i){t.set(e,i)});else for(var i in e)t.set(i,e[i]);return t},r(n,{has:function(e){return Aa+e in this},get:function(e){return this[Aa+e]},set:function(e,t){return this[Aa+e]=t},remove:function(e){return e=Aa+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,i){e.push(i)}),e},entries:function(){var e=[];return this.forEach(function(t,i){e.push({key:t,value:i})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Na&&e.call(this,t.substring(1),this[t])}});var Aa="\x00",Na=Aa.charCodeAt(0);va.nest=function(){function e(t,l,s){if(s>=o.length)return r?r.call(a,l):i?l.sort(i):l;for(var u,c,f,d,h=-1,p=l.length,m=o[s++],g=new n;++h<p;)(d=g.get(u=m(c=l[h])))?d.push(c):g.set(u,[c]);return t?(c=t(),f=function(i,r){c.set(i,e(t,r,s))}):(c={},f=function(i,r){c[i]=e(t,r,s)}),g.forEach(f),c}function t(e,i){if(i>=o.length)return e;var r=[],n=l[i++];return e.forEach(function(e,n){r.push({key:e,values:t(n,i)})}),n?r.sort(function(e,t){return n(e.key,t.key)}):r}var i,r,a={},o=[],l=[];return a.map=function(t,i){return e(i,t,0)},a.entries=function(i){return t(e(va.map,i,0),0)},a.key=function(e){return o.push(e),a},a.sortKeys=function(e){return l[o.length-1]=e,a},a.sortValues=function(e){return i=e,a},a.rollup=function(e){return r=e,a},a},va.set=function(e){var t=new a;if(e)for(var i=0,r=e.length;r>i;++i)t.add(e[i]);return t},r(a,{has:function(e){return Aa+e in this},add:function(e){return this[Aa+e]=!0,e},remove:function(e){return e=Aa+e,e in this&&delete this[e]},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Na&&e.call(this,t.substring(1))}}),va.behavior={},va.rebind=function(e,t){for(var i,r=1,n=arguments.length;++r<n;)e[i=arguments[r]]=o(e,t,t[i]);return e};var Ia=["webkit","ms","moz","Moz","o","O"];va.dispatch=function(){for(var e=new u,t=-1,i=arguments.length;++t<i;)e[arguments[t]]=c(e);return e},u.prototype.on=function(e,t){var i=e.indexOf("."),r="";if(i>=0&&(r=e.substring(i+1),e=e.substring(0,i)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},va.event=null,va.requote=function(e){return e.replace(La,"\\$&")};var La=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Qa={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)e[i]=t[i]},Oa=function(e,t){return t.querySelector(e)},za=function(e,t){return t.querySelectorAll(e)},Pa=wa[l(wa,"matchesSelector")],Fa=function(e,t){return Pa.call(e,t)};"function"==typeof Sizzle&&(Oa=function(e,t){return Sizzle(e,t)[0]||null},za=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Fa=Sizzle.matchesSelector),va.selection=function(){return Ha};var $a=va.selection.prototype=[];$a.select=function(e){var t,i,r,n,a=[];e=m(e);for(var o=-1,l=this.length;++o<l;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var s=-1,u=r.length;++s<u;)(n=r[s])?(t.push(i=e.call(n,n.__data__,s,o)),i&&"__data__"in n&&(i.__data__=n.__data__)):t.push(null)}return p(a)},$a.selectAll=function(e){var t,i,r=[];e=g(e);for(var n=-1,a=this.length;++n<a;)for(var o=this[n],l=-1,s=o.length;++l<s;)(i=o[l])&&(r.push(t=ba(e.call(i,i.__data__,l,n))),t.parentNode=i);return p(r)};var Ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};va.ns={prefix:Ra,qualify:function(e){var t=e.indexOf(":"),i=e;return t>=0&&(i=e.substring(0,t),e=e.substring(t+1)),Ra.hasOwnProperty(i)?{space:Ra[i],local:e}:e}},$a.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var i=this.node();return e=va.ns.qualify(e),e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}for(t in e)this.each(v(t,e[t]));return this}return this.each(v(e,t))},$a.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var i=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,n=-1;if(t=i.classList){for(;++n<r;)if(!t.contains(e[n]))return!1}else for(t=i.getAttribute("class");++n<r;)if(!b(e[n]).test(t))return!1;return!0}for(t in e)this.each(x(t,e[t]));return this}return this.each(x(e,t))},$a.style=function(e,t,i){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(i in e)this.each(k(i,e[i],t));return this}if(2>r)return ka.getComputedStyle(this.node(),null).getPropertyValue(e);i=""}return this.each(k(e,t,i))},$a.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(_(t,e[t]));return this}return this.each(_(e,t))},$a.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},$a.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},$a.append=function(e){return e=S(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},$a.insert=function(e,t){return e=S(e),t=m(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments))})},$a.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},$a.data=function(e,t){function i(e,i){var r,a,o,l=e.length,f=i.length,d=Math.min(l,f),h=new Array(f),p=new Array(f),m=new Array(l);if(t){var g,v=new n,y=new n,b=[];for(r=-1;++r<l;)g=t.call(a=e[r],a.__data__,r),v.has(g)?m[r]=a:v.set(g,a),b.push(g);for(r=-1;++r<f;)g=t.call(i,o=i[r],r),(a=v.get(g))?(h[r]=a,a.__data__=o):y.has(g)||(p[r]=C(o)),y.set(g,o),v.remove(g);for(r=-1;++r<l;)v.has(b[r])&&(m[r]=e[r])}else{for(r=-1;++r<d;)a=e[r],o=i[r],a?(a.__data__=o,h[r]=a):p[r]=C(o);for(;f>r;++r)p[r]=C(i[r]);for(;l>r;++r)m[r]=e[r]}p.update=h,p.parentNode=h.parentNode=m.parentNode=e.parentNode,s.push(p),u.push(h),c.push(m)}var r,a,o=-1,l=this.length;if(!arguments.length){for(e=new Array(l=(r=this[0]).length);++o<l;)(a=r[o])&&(e[o]=a.__data__);return e}var s=D([]),u=p([]),c=p([]);if("function"==typeof e)for(;++o<l;)i(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<l;)i(r=this[o],e);return u.enter=function(){return s},u.exit=function(){return c},u},$a.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},$a.filter=function(e){var t,i,r,n=[];"function"!=typeof e&&(e=T(e));for(var a=0,o=this.length;o>a;a++){n.push(t=[]),t.parentNode=(i=this[a]).parentNode;for(var l=0,s=i.length;s>l;l++)(r=i[l])&&e.call(r,r.__data__,l)&&t.push(r)}return p(n)},$a.order=function(){for(var e=-1,t=this.length;++e<t;)for(var i,r=this[e],n=r.length-1,a=r[n];--n>=0;)(i=r[n])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},$a.sort=function(e){e=j.apply(this,arguments);for(var t=-1,i=this.length;++t<i;)this[t].sort(e);return this.order()},$a.each=function(e){return M(this,function(t,i,r){e.call(t,t.__data__,i,r)})},$a.call=function(e){var t=ba(arguments);return e.apply(t[0]=this,t),this},$a.empty=function(){return!this.node()},$a.node=function(){for(var e=0,t=this.length;t>e;e++)for(var i=this[e],r=0,n=i.length;n>r;r++){var a=i[r];if(a)return a}return null},$a.size=function(){var e=0;return this.each(function(){++e}),e};var qa=[];va.selection.enter=D,va.selection.enter.prototype=qa,qa.append=$a.append,qa.empty=$a.empty,qa.node=$a.node,qa.call=$a.call,qa.size=$a.size,qa.select=function(e){for(var t,i,r,n,a,o=[],l=-1,s=this.length;++l<s;){r=(n=this[l]).update,o.push(t=[]),t.parentNode=n.parentNode;for(var u=-1,c=n.length;++u<c;)(a=n[u])?(t.push(r[u]=i=e.call(n.parentNode,a.__data__,u,l)),i.__data__=a.__data__):t.push(null)}return p(o)},qa.insert=function(e,t){return arguments.length<2&&(t=E(this)),$a.insert.call(this,e,t)},$a.transition=function(){for(var e,t,i=$l||++Ul,r=[],n=Rl||{time:Date.now(),ease:Ni,delay:0,duration:250},a=-1,o=this.length;++a<o;){r.push(e=[]);for(var l=this[a],s=-1,u=l.length;++s<u;)(t=l[s])&&Dn(t,s,i,n),e.push(t)}return Tn(r,i)},$a.interrupt=function(){return this.each(A)},va.select=function(e){var t=["string"==typeof e?Oa(e,xa):e];return t.parentNode=wa,p([t])},va.selectAll=function(e){var t=ba("string"==typeof e?za(e,xa):e);return t.parentNode=wa,p([t])};var Ha=va.select(wa);$a.on=function(e,t,i){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(i in e)this.each(N(i,e[i],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;i=!1}return this.each(N(e,t,i))};var Wa=va.map({mouseenter:"mouseover",mouseleave:"mouseout"});Wa.forEach(function(e){"on"+e in xa&&Wa.remove(e)});var Ua=l(wa.style,"userSelect"),Ba=0;va.mouse=function(e){return O(e,d())};var Ya=/WebKit/.test(ka.navigator.userAgent)?-1:0;va.touches=function(e,t){return arguments.length<2&&(t=d().touches),t?ba(t).map(function(t){var i=O(e,t);return i.identifier=t.identifier,i}):[]},va.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",l)}function t(){return va.event.changedTouches[0].identifier}function i(e,t){return va.touches(e).filter(function(e){return e.identifier===t})[0]}function r(e,t,i,r){return function(){function o(){var e=t(c,h),i=e[0]-m[0],r=e[1]-m[1];g|=i|r,m=e,f({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:i,dy:r})}function l(){v.on(i+"."+p,null).on(r+"."+p,null),y(g&&va.event.target===d),f({type:"dragend"})}var s,u=this,c=u.parentNode,f=n.of(u,arguments),d=va.event.target,h=e(),p=null==h?"drag":"drag-"+h,m=t(c,h),g=0,v=va.select(ka).on(i+"."+p,o).on(r+"."+p,l),y=Q();a?(s=a.apply(u,arguments),s=[s.x-m[0],s.y-m[1]]):s=[0,0],f({type:"dragstart"})}}var n=h(e,"drag","dragstart","dragend"),a=null,o=r(s,va.mouse,"mousemove","mouseup"),l=r(t,i,"touchmove","touchend");return e.origin=function(t){return arguments.length?(a=t,e):a},va.rebind(e,n,"on")};var Va=Math.PI,Ga=2*Va,Za=Va/2,Xa=1e-6,Ka=Xa*Xa,Ja=Va/180,eo=180/Va,to=Math.SQRT2,io=2,ro=4;va.interpolateZoom=function(e,t){function i(e){var t=e*y;if(v){var i=R(m),o=a/(io*d)*(i*q(to*t+m)-$(m));return[r+o*u,n+o*c,a*i/R(to*t+m)]}return[r+e*u,n+e*c,a*Math.exp(to*t)]}var r=e[0],n=e[1],a=e[2],o=t[0],l=t[1],s=t[2],u=o-r,c=l-n,f=u*u+c*c,d=Math.sqrt(f),h=(s*s-a*a+ro*f)/(2*a*io*d),p=(s*s-a*a-ro*f)/(2*s*io*d),m=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(p*p+1)-p),v=g-m,y=(v||Math.log(s/a))/to;return i.duration=1e3*y,i},va.behavior.zoom=function(){function e(e){e.on(j,u).on(oo+".zoom",d).on(M,p).on("dblclick.zoom",m).on(E,c)}function t(e){return[(e[0]-S.x)/S.k,(e[1]-S.y)/S.k]}function i(e){return[e[0]*S.k+S.x,e[1]*S.k+S.y]}function r(e){S.k=Math.max(T[0],Math.min(T[1],e))}function n(e,t){t=i(t),S.x+=e[0]-t[0],S.y+=e[1]-t[1]}function a(){w&&w.domain(x.range().map(function(e){return(e-S.x)/S.k}).map(x.invert)),_&&_.domain(k.range().map(function(e){return(e-S.y)/S.k}).map(k.invert))}function o(e){e({type:"zoomstart"})}function l(e){a(),e({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function s(e){e({type:"zoomend"})}function u(){function e(){c=1,n(va.mouse(r),d),l(a)}function i(){f.on(M,ka===r?p:null).on(D,null),h(c&&va.event.target===u),s(a)}var r=this,a=N.of(r,arguments),u=va.event.target,c=0,f=va.select(ka).on(M,e).on(D,i),d=t(va.mouse(r)),h=Q();A.call(r),o(a)}function c(){function e(){var e=va.touches(p);return h=S.k,e.forEach(function(e){e.identifier in g&&(g[e.identifier]=t(e))}),e}function i(){for(var t=va.event.changedTouches,i=0,a=t.length;a>i;++i)g[t[i].identifier]=null;var o=e(),s=Date.now();if(1===o.length){if(500>s-b){var u=o[0],c=g[u.identifier];r(2*S.k),n(u,c),f(),l(m)}b=s}else if(o.length>1){var u=o[0],d=o[1],h=u[0]-d[0],p=u[1]-d[1];v=h*h+p*p}}function a(){for(var e,t,i,a,o=va.touches(p),s=0,u=o.length;u>s;++s,a=null)if(i=o[s],a=g[i.identifier]){if(t)break;e=i,t=a}if(a){var c=(c=i[0]-e[0])*c+(c=i[1]-e[1])*c,f=v&&Math.sqrt(c/v);e=[(e[0]+i[0])/2,(e[1]+i[1])/2],t=[(t[0]+a[0])/2,(t[1]+a[1])/2],r(f*h)}b=null,n(e,t),l(m)}function d(){if(va.event.touches.length){for(var t=va.event.changedTouches,i=0,r=t.length;r>i;++i)delete g[t[i].identifier];for(var n in g)return void e()}k.on(x,null).on(w,null),_.on(j,u).on(E,c),C(),s(m)}var h,p=this,m=N.of(p,arguments),g={},v=0,y=va.event.changedTouches[0].identifier,x="touchmove.zoom-"+y,w="touchend.zoom-"+y,k=va.select(ka).on(x,a).on(w,d),_=va.select(p).on(j,null).on(E,i),C=Q();A.call(p),i(),o(m)}function d(){var e=N.of(this,arguments);y?clearTimeout(y):(A.call(this),o(e)),y=setTimeout(function(){y=null,s(e)},50),f();var i=v||va.mouse(this);g||(g=t(i)),r(Math.pow(2,.002*no())*S.k),n(i,g),l(e)}function p(){g=null}function m(){var e=N.of(this,arguments),i=va.mouse(this),a=t(i),u=Math.log(S.k)/Math.LN2;o(e),r(Math.pow(2,va.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),n(i,a),l(e),s(e)}var g,v,y,b,x,w,k,_,S={x:0,y:0,k:1},C=[960,500],T=ao,j="mousedown.zoom",M="mousemove.zoom",D="mouseup.zoom",E="touchstart.zoom",N=h(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=N.of(this,arguments),t=S;$l?va.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},o(e)}).tween("zoom:zoom",function(){var i=C[0],r=C[1],n=i/2,a=r/2,o=va.interpolateZoom([(n-S.x)/S.k,(a-S.y)/S.k,i/S.k],[(n-t.x)/t.k,(a-t.y)/t.k,i/t.k]);return function(t){var r=o(t),s=i/r[2];this.__chart__=S={x:n-r[0]*s,y:a-r[1]*s,k:s},l(e)}}).each("end.zoom",function(){s(e)}):(this.__chart__=S,o(e),l(e),s(e))})},e.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},a(),e):[S.x,S.y]},e.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:+t},a(),e):S.k},e.scaleExtent=function(t){return arguments.length?(T=null==t?ao:[+t[0],+t[1]],e):T},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(C=t&&[+t[0],+t[1]],e):C},e.x=function(t){return arguments.length?(w=t,x=t.copy(),S={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(_=t,k=t.copy(),S={x:0,y:0,k:1},e):_},va.rebind(e,N,"on")};var no,ao=[0,1/0],oo="onwheel"in xa?(no=function(){return-va.event.deltaY*(va.event.deltaMode?120:1)},"wheel"):"onmousewheel"in xa?(no=function(){return va.event.wheelDelta},"mousewheel"):(no=function(){return-va.event.detail},"MozMousePixelScroll");W.prototype.toString=function(){return this.rgb()+""},va.hsl=function(e,t,i){return 1===arguments.length?e instanceof B?U(e.h,e.s,e.l):ue(""+e,ce,U):U(+e,+t,+i)};var lo=B.prototype=new W;lo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),U(this.h,this.s,this.l/e)},lo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),U(this.h,this.s,e*this.l)},lo.rgb=function(){return Y(this.h,this.s,this.l)},va.hcl=function(e,t,i){return 1===arguments.length?e instanceof G?V(e.h,e.c,e.l):e instanceof K?ee(e.l,e.a,e.b):ee((e=fe((e=va.rgb(e)).r,e.g,e.b)).l,e.a,e.b):V(+e,+t,+i)};var so=G.prototype=new W;so.brighter=function(e){return V(this.h,this.c,Math.min(100,this.l+uo*(arguments.length?e:1)))},so.darker=function(e){return V(this.h,this.c,Math.max(0,this.l-uo*(arguments.length?e:1)))},so.rgb=function(){return Z(this.h,this.c,this.l).rgb()},va.lab=function(e,t,i){return 1===arguments.length?e instanceof K?X(e.l,e.a,e.b):e instanceof G?Z(e.l,e.c,e.h):fe((e=va.rgb(e)).r,e.g,e.b):X(+e,+t,+i)};var uo=18,co=.95047,fo=1,ho=1.08883,po=K.prototype=new W;po.brighter=function(e){return X(Math.min(100,this.l+uo*(arguments.length?e:1)),this.a,this.b)},po.darker=function(e){return X(Math.max(0,this.l-uo*(arguments.length?e:1)),this.a,this.b)},po.rgb=function(){return J(this.l,this.a,this.b)},va.rgb=function(e,t,i){return 1===arguments.length?e instanceof le?oe(e.r,e.g,e.b):ue(""+e,oe,Y):oe(~~e,~~t,~~i)};var mo=le.prototype=new W;mo.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,i=this.g,r=this.b,n=30;return t||i||r?(t&&n>t&&(t=n),i&&n>i&&(i=n),r&&n>r&&(r=n),oe(Math.min(255,~~(t/e)),Math.min(255,~~(i/e)),Math.min(255,~~(r/e)))):oe(n,n,n)},mo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),oe(~~(e*this.r),~~(e*this.g),~~(e*this.b))},mo.hsl=function(){return ce(this.r,this.g,this.b)},mo.toString=function(){return"#"+se(this.r)+se(this.g)+se(this.b)};var go=va.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});go.forEach(function(e,t){go.set(e,ne(t))}),va.functor=pe,va.xhr=ge(me),va.dsv=function(e,t){function i(e,i,a){arguments.length<3&&(a=i,i=null);var o=va.xhr(e,t,a);return o.row=function(e){return arguments.length?o.response(null==(i=e)?r:n(e)):i},o.row(i)}function r(e){return i.parse(e.responseText)}function n(e){return function(t){return i.parse(t.responseText,e)}}function o(t){return t.map(l).join(e)}function l(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return i.parse=function(e,t){var r;return i.parseRows(e,function(e,i){if(r)return r(e,i-1);var n=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,i){return t(n(e),i)}:n})},i.parseRows=function(e,t){function i(){if(c>=s)return o;if(n)return n=!1,a;var t=c;if(34===e.charCodeAt(t)){for(var i=t;i++<s;)if(34===e.charCodeAt(i)){if(34!==e.charCodeAt(i+1))break;++i}c=i+2;var r=e.charCodeAt(i+1);return 13===r?(n=!0,10===e.charCodeAt(i+2)&&++c):10===r&&(n=!0),e.substring(t+1,i).replace(/""/g,'"')}for(;s>c;){var r=e.charCodeAt(c++),l=1;if(10===r)n=!0;else if(13===r)n=!0,10===e.charCodeAt(c)&&(++c,++l);else if(r!==u)continue;return e.substring(t,c-l)}return e.substring(t)}for(var r,n,a={},o={},l=[],s=e.length,c=0,f=0;(r=i())!==o;){for(var d=[];r!==a&&r!==o;)d.push(r),r=i();(!t||(d=t(d,f++)))&&l.push(d)}return l},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var r=new a,n=[];return t.forEach(function(e){for(var t in e)r.has(t)||n.push(r.add(t))}),[n.map(l).join(e)].concat(t.map(function(t){return n.map(function(e){return l(t[e])}).join(e)})).join("\n")},i.formatRows=function(e){return e.map(o).join("\n")},i},va.csv=va.dsv(",","text/csv"),va.tsv=va.dsv("	","text/tab-separated-values");var vo,yo,bo,xo,wo,ko=ka[l(ka,"requestAnimationFrame")]||function(e){setTimeout(e,17)};va.timer=function(e,t,i){var r=arguments.length;2>r&&(t=0),3>r&&(i=Date.now());var n=i+t,a={callback:e,time:n,next:null};yo?yo.next=a:vo=a,yo=a,bo||(xo=clearTimeout(xo),bo=1,ko(be))},va.timer.flush=function(){we(),ke()};var _o=".",So=",",Co=[3,3],To="$",jo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(_e);va.formatPrefix=function(e,t){var i=0;return e&&(0>e&&(e*=-1),t&&(e=va.round(e,Se(e,t))),i=1+Math.floor(1e-12+Math.log(e)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((0>=i?i+1:i-1)/3)))),jo[8+i/3]},va.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},va.format=function(e){var t=Mo.exec(e),i=t[1]||" ",r=t[2]||">",n=t[3]||"",a=t[4]||"",o=t[5],l=+t[6],s=t[7],u=t[8],c=t[9],f=1,d="",h=!1;switch(u&&(u=+u.substring(1)),(o||"0"===i&&"="===r)&&(o=i="0",r="=",s&&(l-=Math.floor((l-1)/4))),c){case"n":s=!0,c="g";break;case"%":f=100,d="%",c="f";break;case"p":f=100,d="%",c="r";break;case"b":case"o":case"x":case"X":"#"===a&&(a="0"+c.toLowerCase());case"c":case"d":h=!0,u=0;break;case"s":f=-1,c="r"}"#"===a?a="":"$"===a&&(a=To),"r"!=c||u||(c="g"),null!=u&&("g"==c?u=Math.max(1,Math.min(21,u)):("e"==c||"f"==c)&&(u=Math.max(0,Math.min(20,u)))),c=Do.get(c)||Ce;var p=o&&s;return function(e){if(h&&e%1)return"";var t=0>e||0===e&&0>1/e?(e=-e,"-"):n;if(0>f){var m=va.formatPrefix(e,u);e=m.scale(e),d=m.symbol}else e*=f;e=c(e,u);var g=e.lastIndexOf("."),v=0>g?e:e.substring(0,g),y=0>g?"":_o+e.substring(g+1);!o&&s&&(v=Eo(v));var b=a.length+v.length+y.length+(p?0:t.length),x=l>b?new Array(b=l-b+1).join(i):"";return p&&(v=Eo(x+v)),t+=a,e=v+y,("<"===r?t+e+x:">"===r?x+t+e:"^"===r?x.substring(0,b>>=1)+t+e+x.substring(b):t+(p?e:x+e))+d}};var Mo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Do=va.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=va.round(e,Se(e,t))).toFixed(Math.max(0,Math.min(20,Se(e*(1+1e-15),t))))}}),Eo=me;if(Co){var Ao=Co.length;Eo=function(e){for(var t=e.length,i=[],r=0,n=Co[0];t>0&&n>0;)i.push(e.substring(t-=n,t+n)),n=Co[r=(r+1)%Ao];return i.reverse().join(So)}}va.geo={},Te.prototype={s:0,t:0,add:function(e){je(e,this.t,No),je(No.s,this.s,this),this.s?this.t+=No.t:this.s=No.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var No=new Te;va.geo.stream=function(e,t){e&&Io.hasOwnProperty(e.type)?Io[e.type](e,t):Me(e,t)};var Io={Feature:function(e,t){Me(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,r=-1,n=i.length;++r<n;)Me(i[r].geometry,t)}},Lo={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,r=-1,n=i.length;++r<n;)e=i[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){De(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,r=-1,n=i.length;++r<n;)De(i[r],t,0)},Polygon:function(e,t){Ee(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,r=-1,n=i.length;++r<n;)Ee(i[r],t)},GeometryCollection:function(e,t){for(var i=e.geometries,r=-1,n=i.length;++r<n;)Me(i[r],t)}};va.geo.area=function(e){return Qo=0,va.geo.stream(e,zo),Qo};var Qo,Oo=new Te,zo={sphere:function(){Qo+=4*Va},point:s,lineStart:s,lineEnd:s,polygonStart:function(){Oo.reset(),zo.lineStart=Ae},polygonEnd:function(){var e=2*Oo;Qo+=0>e?4*Va+e:e,zo.lineStart=zo.lineEnd=zo.point=s}};va.geo.bounds=function(){function e(e,t){b.push(x=[c=e,d=e]),f>t&&(f=t),t>h&&(h=t)}function t(t,i){var r=Ne([t*Ja,i*Ja]);if(v){var n=Le(v,r),a=[n[1],-n[0],0],o=Le(a,n);ze(o),o=Pe(o);var s=t-p,u=s>0?1:-1,m=o[0]*eo*u,g=Math.abs(s)>180;if(g^(m>u*p&&u*t>m)){var y=o[1]*eo;y>h&&(h=y)}else if(m=(m+360)%360-180,g^(m>u*p&&u*t>m)){var y=-o[1]*eo;f>y&&(f=y)}else f>i&&(f=i),i>h&&(h=i);g?p>t?l(c,t)>l(c,d)&&(d=t):l(t,d)>l(c,d)&&(c=t):d>=c?(c>t&&(c=t),t>d&&(d=t)):t>p?l(c,t)>l(c,d)&&(d=t):l(t,d)>l(c,d)&&(c=t)}else e(t,i);v=r,p=t}function i(){w.point=t}function r(){x[0]=c,x[1]=d,w.point=e,v=null}function n(e,i){if(v){var r=e-p;y+=Math.abs(r)>180?r+(r>0?360:-360):r}else m=e,g=i;zo.point(e,i),t(e,i)}function a(){zo.lineStart()}function o(){n(m,g),zo.lineEnd(),Math.abs(y)>Xa&&(c=-(d=180)),x[0]=c,x[1]=d,v=null}function l(e,t){return(t-=e)<0?t+360:t}function s(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,f,d,h,p,m,g,v,y,b,x,w={point:e,lineStart:i,lineEnd:r,polygonStart:function(){w.point=n,w.lineStart=a,w.lineEnd=o,y=0,zo.polygonStart()},polygonEnd:function(){zo.polygonEnd(),w.point=e,w.lineStart=i,w.lineEnd=r,0>Oo?(c=-(d=180),f=-(h=90)):y>Xa?h=90:-Xa>y&&(f=-90),x[0]=c,x[1]=d}};return function(e){h=d=-(c=f=1/0),b=[],va.geo.stream(e,w);var t=b.length;if(t){b.sort(s);for(var i,r=1,n=b[0],a=[n];t>r;++r)i=b[r],u(i[0],n)||u(i[1],n)?(l(n[0],i[1])>l(n[0],n[1])&&(n[1]=i[1]),l(i[0],n[1])>l(n[0],n[1])&&(n[0]=i[0])):a.push(n=i);for(var o,i,p=-1/0,t=a.length-1,r=0,n=a[t];t>=r;n=i,++r)i=a[r],(o=l(n[1],i[0]))>p&&(p=o,c=i[0],d=n[1])}return b=x=null,1/0===c||1/0===f?[[NaN,NaN],[NaN,NaN]]:[[c,f],[d,h]]}}(),va.geo.centroid=function(e){Po=Fo=$o=Ro=qo=Ho=Wo=Uo=Bo=Yo=Vo=0,va.geo.stream(e,Go);var t=Bo,i=Yo,r=Vo,n=t*t+i*i+r*r;return Ka>n&&(t=Ho,i=Wo,r=Uo,Xa>Fo&&(t=$o,i=Ro,r=qo),n=t*t+i*i+r*r,Ka>n)?[NaN,NaN]:[Math.atan2(i,t)*eo,F(r/Math.sqrt(n))*eo]};var Po,Fo,$o,Ro,qo,Ho,Wo,Uo,Bo,Yo,Vo,Go={sphere:s,point:$e,lineStart:qe,lineEnd:He,polygonStart:function(){Go.lineStart=We},polygonEnd:function(){Go.lineStart=qe}},Zo=Ve(Ue,Je,tt,[-Va,-Va/2]),Xo=1e9;va.geo.clipExtent=function(){var e,t,i,r,n,a,o={stream:function(e){return n&&(n.valid=!1),n=a(e),n.valid=!0,n},extent:function(l){return arguments.length?(a=rt(e=+l[0][0],t=+l[0][1],i=+l[1][0],r=+l[1][1]),n&&(n.valid=!1,n=null),o):[[e,t],[i,r]]}};return o.extent([[0,0],[960,500]])},(va.geo.conicEqualArea=function(){return ot(lt)}).raw=lt,va.geo.albers=function(){return va.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},va.geo.albersUsa=function(){function e(e){var a=e[0],o=e[1];return t=null,i(a,o),t||(r(a,o),t)||n(a,o),t}var t,i,r,n,a=va.geo.albers(),o=va.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=va.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,i){t=[e,i]}};return e.invert=function(e){var t=a.scale(),i=a.translate(),r=(e[0]-i[0])/t,n=(e[1]-i[1])/t;return(n>=.12&&.234>n&&r>=-.425&&-.214>r?o:n>=.166&&.234>n&&r>=-.214&&-.115>r?l:a).invert(e)},e.stream=function(e){var t=a.stream(e),i=o.stream(e),r=l.stream(e);return{point:function(e,n){t.point(e,n),i.point(e,n),r.point(e,n)},sphere:function(){t.sphere(),i.sphere(),r.sphere()},lineStart:function(){t.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),l.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),l.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var u=a.scale(),c=+t[0],f=+t[1];return i=a.translate(t).clipExtent([[c-.455*u,f-.238*u],[c+.455*u,f+.238*u]]).stream(s).point,r=o.translate([c-.307*u,f+.201*u]).clipExtent([[c-.425*u+Xa,f+.12*u+Xa],[c-.214*u-Xa,f+.234*u-Xa]]).stream(s).point,n=l.translate([c-.205*u,f+.212*u]).clipExtent([[c-.214*u+Xa,f+.166*u+Xa],[c-.115*u-Xa,f+.234*u-Xa]]).stream(s).point,e},e.scale(1070)};var Ko,Jo,el,tl,il,rl,nl={point:s,lineStart:s,lineEnd:s,polygonStart:function(){Jo=0,nl.lineStart=st},polygonEnd:function(){nl.lineStart=nl.lineEnd=nl.point=s,Ko+=Math.abs(Jo/2)}},al={point:ut,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s},ol={point:dt,lineStart:ht,lineEnd:pt,polygonStart:function(){ol.lineStart=mt},polygonEnd:function(){ol.point=dt,ol.lineStart=ht,ol.lineEnd=pt}};va.geo.transform=function(e){return{stream:function(t){var i=new yt(t);for(var r in e)i[r]=e[r];return i}}},yt.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},va.geo.path=function(){function e(e){return e&&("function"==typeof l&&a.pointRadius(+l.apply(this,arguments)),o&&o.valid||(o=n(a)),va.geo.stream(e,o)),a.result()}function t(){return o=null,e}var i,r,n,a,o,l=4.5;return e.area=function(e){return Ko=0,va.geo.stream(e,n(nl)),Ko},e.centroid=function(e){return $o=Ro=qo=Ho=Wo=Uo=Bo=Yo=Vo=0,va.geo.stream(e,n(ol)),Vo?[Bo/Vo,Yo/Vo]:Uo?[Ho/Uo,Wo/Uo]:qo?[$o/qo,Ro/qo]:[NaN,NaN]},e.bounds=function(e){return il=rl=-(el=tl=1/0),va.geo.stream(e,n(al)),[[el,tl],[il,rl]]},e.projection=function(e){return arguments.length?(n=(i=e)?e.stream||bt(e):me,t()):i},e.context=function(e){return arguments.length?(a=null==(r=e)?new ct:new gt(e),"function"!=typeof l&&a.pointRadius(l),t()):r},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(a.pointRadius(+t),+t),e):l},e.projection(va.geo.albersUsa()).context(null)},va.geo.projection=xt,va.geo.projectionMutator=wt,(va.geo.equirectangular=function(){return xt(_t)}).raw=_t.invert=_t,va.geo.rotation=function(e){function t(t){return t=e(t[0]*Ja,t[1]*Ja),t[0]*=eo,t[1]*=eo,t}return e=Ct(e[0]%360*Ja,e[1]*Ja,e.length>2?e[2]*Ja:0),t.invert=function(t){return t=e.invert(t[0]*Ja,t[1]*Ja),t[0]*=eo,t[1]*=eo,t},t},St.invert=_t,va.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=Ct(-e[0]*Ja,-e[1]*Ja,0).invert,n=[];return i(null,null,1,{point:function(e,i){n.push(e=t(e,i)),e[0]*=eo,e[1]*=eo}}),{type:"Polygon",coordinates:[n]}}var t,i,r=[0,0],n=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(i=Dt((t=+r)*Ja,n*Ja),e):t},e.precision=function(r){return arguments.length?(i=Dt(t*Ja,(n=+r)*Ja),e):n},e.angle(90)},va.geo.distance=function(e,t){var i,r=(t[0]-e[0])*Ja,n=e[1]*Ja,a=t[1]*Ja,o=Math.sin(r),l=Math.cos(r),s=Math.sin(n),u=Math.cos(n),c=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((i=f*o)*i+(i=u*c-s*f*l)*i),s*c+u*f*l)},va.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return va.range(Math.ceil(a/g)*g,n,g).map(d).concat(va.range(Math.ceil(u/v)*v,s,v).map(h)).concat(va.range(Math.ceil(r/p)*p,i,p).filter(function(e){
return Math.abs(e%g)>Xa}).map(c)).concat(va.range(Math.ceil(l/m)*m,o,m).filter(function(e){return Math.abs(e%v)>Xa}).map(f))}var i,r,n,a,o,l,s,u,c,f,d,h,p=10,m=p,g=90,v=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(h(s).slice(1),d(n).reverse().slice(1),h(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],a>n&&(t=a,a=n,n=t),u>s&&(t=u,u=s,s=t),e.precision(y)):[[a,u],[n,s]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],l=+t[0][1],o=+t[1][1],r>i&&(t=r,r=i,i=t),l>o&&(t=l,l=o,o=t),e.precision(y)):[[r,l],[i,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(y=+t,c=At(l,o,90),f=Nt(r,i,y),d=At(u,s,90),h=Nt(a,n,y),e):y},e.majorExtent([[-180,-90+Xa],[180,90-Xa]]).minorExtent([[-180,-80-Xa],[180,80+Xa]])},va.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),i||n.apply(this,arguments)]}}var t,i,r=It,n=Lt;return e.distance=function(){return va.geo.distance(t||r.apply(this,arguments),i||n.apply(this,arguments))},e.source=function(i){return arguments.length?(r=i,t="function"==typeof i?null:i,e):r},e.target=function(t){return arguments.length?(n=t,i="function"==typeof t?null:t,e):n},e.precision=function(){return arguments.length?e:0},e},va.geo.interpolate=function(e,t){return Qt(e[0]*Ja,e[1]*Ja,t[0]*Ja,t[1]*Ja)},va.geo.length=function(e){return ll=0,va.geo.stream(e,sl),ll};var ll,sl={sphere:s,point:s,lineStart:Ot,lineEnd:s,polygonStart:s,polygonEnd:s},ul=zt(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(va.geo.azimuthalEqualArea=function(){return xt(ul)}).raw=ul;var cl=zt(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},me);(va.geo.azimuthalEquidistant=function(){return xt(cl)}).raw=cl,(va.geo.conicConformal=function(){return ot(Pt)}).raw=Pt,(va.geo.conicEquidistant=function(){return ot(Ft)}).raw=Ft;var fl=zt(function(e){return 1/e},Math.atan);(va.geo.gnomonic=function(){return xt(fl)}).raw=fl,$t.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Za]},(va.geo.mercator=function(){return Rt($t)}).raw=$t;var dl=zt(function(){return 1},Math.asin);(va.geo.orthographic=function(){return xt(dl)}).raw=dl;var hl=zt(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(va.geo.stereographic=function(){return xt(hl)}).raw=hl,qt.invert=function(e,t){return[Math.atan2($(e),Math.cos(t)),F(Math.sin(t)/R(e))]},(va.geo.transverseMercator=function(){return Rt(qt)}).raw=qt,va.geom={},va.svg={},va.svg.line=function(){return Ht(me)};var pl=va.map({linear:Bt,"linear-closed":Yt,step:Vt,"step-before":Gt,"step-after":Zt,basis:ii,"basis-open":ri,"basis-closed":ni,bundle:ai,cardinal:Jt,"cardinal-open":Xt,"cardinal-closed":Kt,monotone:fi});pl.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ml=[0,2/3,1/3,0],gl=[0,1/3,2/3,0],vl=[0,1/6,2/3,1/6];va.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,n,a,o,l,s,u,c,f,d,h,p,m=pe(i),g=pe(r),v=e.length,y=v-1,b=[],x=[],w=0;if(m===Wt&&r===Ut)t=e;else for(a=0,t=[];v>a;++a)t.push([+m.call(this,n=e[a],a),+g.call(this,n,a)]);for(a=1;v>a;++a)(t[a][1]<t[w][1]||t[a][1]==t[w][1]&&t[a][0]<t[w][0])&&(w=a);for(a=0;v>a;++a)a!==w&&(s=t[a][1]-t[w][1],l=t[a][0]-t[w][0],b.push({angle:Math.atan2(s,l),index:a}));for(b.sort(function(e,t){return e.angle-t.angle}),h=b[0].angle,d=b[0].index,f=0,a=1;y>a;++a){if(o=b[a].index,h==b[a].angle){if(l=t[d][0]-t[w][0],s=t[d][1]-t[w][1],u=t[o][0]-t[w][0],c=t[o][1]-t[w][1],l*l+s*s>=u*u+c*c){b[a].index=-1;continue}b[f].index=-1}h=b[a].angle,f=a,d=o}for(x.push(w),a=0,o=0;2>a;++o)b[o].index>-1&&(x.push(b[o].index),a++);for(p=x.length;y>o;++o)if(!(b[o].index<0)){for(;!di(x[p-2],x[p-1],b[o].index,t);)--p;x[p++]=b[o].index}var k=[];for(a=p-1;a>=0;--a)k.push(e[x[a]]);return k}var i=Wt,r=Ut;return arguments.length?t(e):(t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(r=e,t):r},t)},va.geom.polygon=function(e){return Qa(e,yl),e};var yl=va.geom.polygon.prototype=[];yl.area=function(){for(var e,t=-1,i=this.length,r=this[i-1],n=0;++t<i;)e=r,r=this[t],n+=e[1]*r[0]-e[0]*r[1];return.5*n},yl.centroid=function(e){var t,i,r=-1,n=this.length,a=0,o=0,l=this[n-1];for(arguments.length||(e=-1/(6*this.area()));++r<n;)t=l,l=this[r],i=t[0]*l[1]-l[0]*t[1],a+=(t[0]+l[0])*i,o+=(t[1]+l[1])*i;return[a*e,o*e]},yl.clip=function(e){for(var t,i,r,n,a,o,l=mi(e),s=-1,u=this.length-mi(this),c=this[u-1];++s<u;){for(t=e.slice(),e.length=0,n=this[s],a=t[(r=t.length-l)-1],i=-1;++i<r;)o=t[i],hi(o,c,n)?(hi(a,c,n)||e.push(pi(a,o,c,n)),e.push(o)):hi(a,c,n)&&e.push(pi(a,o,c,n)),a=o;l&&e.push(e[0]),c=n}return e},va.geom.delaunay=function(e){var t=e.map(function(){return[]}),i=[];return gi(e,function(i){t[i.region.l.index].push(e[i.region.r.index])}),t.forEach(function(t,r){var n=e[r],a=n[0],o=n[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-a,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var l=0,s=t.length-1;s>l;l++)i.push([n,t[l],t[l+1]])}),i},va.geom.voronoi=function(e){function t(e){var t,a,o,l=e.map(function(){return[]}),s=pe(i),u=pe(r),c=e.length,f=1e6;if(s===Wt&&u===Ut)t=e;else for(t=new Array(c),o=0;c>o;++o)t[o]=[+s.call(this,a=e[o],o),+u.call(this,a,o)];if(gi(t,function(e){var t,i,r,n,a,o;1===e.a&&e.b>=0?(t=e.ep.r,i=e.ep.l):(t=e.ep.l,i=e.ep.r),1===e.a?(a=t?t.y:-f,r=e.c-e.b*a,o=i?i.y:f,n=e.c-e.b*o):(r=t?t.x:-f,a=e.c-e.a*r,n=i?i.x:f,o=e.c-e.a*n);var s=[r,a],u=[n,o];l[e.region.l.index].push(s,u),l[e.region.r.index].push(s,u)}),l=l.map(function(e,i){var r=t[i][0],n=t[i][1],a=e.map(function(e){return Math.atan2(e[0]-r,e[1]-n)}),o=va.range(e.length).sort(function(e,t){return a[e]-a[t]});return o.filter(function(e,t){return!t||a[e]-a[o[t-1]]>Xa}).map(function(t){return e[t]})}),l.forEach(function(e,i){var r=e.length;if(!r)return e.push([-f,-f],[-f,f],[f,f],[f,-f]);if(!(r>2)){var n=t[i],a=e[0],o=e[1],l=n[0],s=n[1],u=a[0],c=a[1],d=o[0],h=o[1],p=Math.abs(d-u),m=h-c;if(Math.abs(m)<Xa){var g=c>s?-f:f;e.push([-f,g],[f,g])}else if(Xa>p){var v=u>l?-f:f;e.push([v,-f],[v,f])}else{var g=(u-l)*(h-c)>(d-u)*(c-s)?f:-f,y=Math.abs(m)-p;Math.abs(y)<Xa?e.push([0>m?g:-g,g]):(y>0&&(g*=-1),e.push([-f,g],[f,g]))}}}),n)for(o=0;c>o;++o)n.clip(l[o]);for(o=0;c>o;++o)l[o].point=e[o];return l}var i=Wt,r=Ut,n=null;return arguments.length?t(e):(t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(r=e,t):r},t.clipExtent=function(e){if(!arguments.length)return n&&[n[0],n[2]];if(null==e)n=null;else{var i=+e[0][0],r=+e[0][1],a=+e[1][0],o=+e[1][1];n=va.geom.polygon([[i,r],[i,o],[a,o],[a,r]])}return t},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):n&&n[2]},t.links=function(e){var t,n,a,o=e.map(function(){return[]}),l=[],s=pe(i),u=pe(r),c=e.length;if(s===Wt&&u===Ut)t=e;else for(t=new Array(c),a=0;c>a;++a)t[a]=[+s.call(this,n=e[a],a),+u.call(this,n,a)];return gi(t,function(t){var i=t.region.l.index,r=t.region.r.index;o[i][r]||(o[i][r]=o[r][i]=!0,l.push({source:e[i],target:e[r]}))}),l},t.triangles=function(e){if(i===Wt&&r===Ut)return va.geom.delaunay(e);for(var t,n=new Array(s),a=pe(i),o=pe(r),l=-1,s=e.length;++l<s;)(n[l]=[+a.call(this,t=e[l],l),+o.call(this,t,l)]).data=t;return va.geom.delaunay(n).map(function(e){return e.map(function(e){return e.data})})},t)};var bl={l:"r",r:"l"};va.geom.quadtree=function(e,t,i,r,n){function a(e){function a(e,t,i,r,n,a,o,l){if(!isNaN(i)&&!isNaN(r))if(e.leaf){var s=e.x,c=e.y;if(null!=s)if(Math.abs(s-i)+Math.abs(c-r)<.01)u(e,t,i,r,n,a,o,l);else{var f=e.point;e.x=e.y=e.point=null,u(e,f,s,c,n,a,o,l),u(e,t,i,r,n,a,o,l)}else e.x=i,e.y=r,e.point=t}else u(e,t,i,r,n,a,o,l)}function u(e,t,i,r,n,o,l,s){var u=.5*(n+l),c=.5*(o+s),f=i>=u,d=r>=c,h=(d<<1)+f;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=bi()),f?n=u:l=u,d?o=c:s=c,a(e,t,i,r,n,o,l,s)}var c,f,d,h,p,m,g,v,y,b=pe(l),x=pe(s);if(null!=t)m=t,g=i,v=r,y=n;else if(v=y=-(m=g=1/0),f=[],d=[],p=e.length,o)for(h=0;p>h;++h)c=e[h],c.x<m&&(m=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),d.push(c.y);else for(h=0;p>h;++h){var w=+b(c=e[h],h),k=+x(c,h);m>w&&(m=w),g>k&&(g=k),w>v&&(v=w),k>y&&(y=k),f.push(w),d.push(k)}var _=v-m,S=y-g;_>S?y=g+_:v=m+S;var C=bi();if(C.add=function(e){a(C,e,+b(e,++h),+x(e,h),m,g,v,y)},C.visit=function(e){xi(e,C,m,g,v,y)},h=-1,null==t){for(;++h<p;)a(C,e[h],f[h],d[h],m,g,v,y);--h}else e.forEach(C.add);return f=d=e=c=null,C}var o,l=Wt,s=Ut;return(o=arguments.length)?(l=vi,s=yi,3===o&&(n=i,r=t,i=t=0),a(e)):(a.x=function(e){return arguments.length?(l=e,a):l},a.y=function(e){return arguments.length?(s=e,a):s},a.extent=function(e){return arguments.length?(null==e?t=i=r=n=null:(t=+e[0][0],i=+e[0][1],r=+e[1][0],n=+e[1][1]),a):null==t?null:[[t,i],[r,n]]},a.size=function(e){return arguments.length?(null==e?t=i=r=n=null:(t=i=0,r=+e[0],n=+e[1]),a):null==t?null:[r-t,n-i]},a)},va.interpolateRgb=wi,va.interpolateObject=ki,va.interpolateNumber=_i,va.interpolateString=Si;var xl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;va.interpolate=Ci,va.interpolators=[function(e,t){var i=typeof t;return("string"===i?go.has(t)||/^(#|rgb\(|hsl\()/.test(t)?wi:Si:t instanceof W?wi:"object"===i?Array.isArray(t)?Ti:ki:_i)(e,t)}],va.interpolateArray=Ti;var wl=function(){return me},kl=va.map({linear:wl,poly:Ii,quad:function(){return Ei},cubic:function(){return Ai},sin:function(){return Li},exp:function(){return Qi},circle:function(){return Oi},elastic:zi,back:Pi,bounce:function(){return Fi}}),_l=va.map({"in":me,out:Mi,"in-out":Di,"out-in":function(e){return Di(Mi(e))}});va.ease=function(e){var t=e.indexOf("-"),i=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return i=kl.get(i)||wl,r=_l.get(r)||me,ji(r(i.apply(null,Array.prototype.slice.call(arguments,1))))},va.interpolateHcl=$i,va.interpolateHsl=Ri,va.interpolateLab=qi,va.interpolateRound=Hi,va.transform=function(e){var t=xa.createElementNS(va.ns.prefix.svg,"g");return(va.transform=function(e){if(null!=e){t.setAttribute("transform",e);var i=t.transform.baseVal.consolidate()}return new Wi(i?i.matrix:Sl)})(e)},Wi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Sl={a:1,b:0,c:0,d:1,e:0,f:0};va.interpolateTransform=Vi,va.layout={},va.layout.bundle=function(){return function(e){for(var t=[],i=-1,r=e.length;++i<r;)t.push(Xi(e[i]));return t}},va.layout.chord=function(){function e(){var e,u,f,d,h,p={},m=[],g=va.range(a),v=[];for(i=[],r=[],e=0,d=-1;++d<a;){for(u=0,h=-1;++h<a;)u+=n[d][h];m.push(u),v.push(va.range(a)),e+=u}for(o&&g.sort(function(e,t){return o(m[e],m[t])}),l&&v.forEach(function(e,t){e.sort(function(e,i){return l(n[t][e],n[t][i])})}),e=(Ga-c*a)/e,u=0,d=-1;++d<a;){for(f=u,h=-1;++h<a;){var y=g[d],b=v[y][h],x=n[y][b],w=u,k=u+=x*e;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:k,value:x}}r[y]={index:y,startAngle:f,endAngle:u,value:(u-f)/e},u+=c}for(d=-1;++d<a;)for(h=d-1;++h<a;){var _=p[d+"-"+h],S=p[h+"-"+d];(_.value||S.value)&&i.push(_.value<S.value?{source:S,target:_}:{source:_,target:S})}s&&t()}function t(){i.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var i,r,n,a,o,l,s,u={},c=0;return u.matrix=function(e){return arguments.length?(a=(n=e)&&n.length,i=r=null,u):n},u.padding=function(e){return arguments.length?(c=e,i=r=null,u):c},u.sortGroups=function(e){return arguments.length?(o=e,i=r=null,u):o},u.sortSubgroups=function(e){return arguments.length?(l=e,i=null,u):l},u.sortChords=function(e){return arguments.length?(s=e,i&&t(),u):s},u.chords=function(){return i||e(),i},u.groups=function(){return r||e(),r},u},va.layout.force=function(){function e(e){return function(t,i,r,n){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,l=1/Math.sqrt(a*a+o*o);if(m>(n-i)*l){var s=t.charge*l*l;return e.px-=a*s,e.py-=o*s,!0}if(t.point&&isFinite(l)){var s=t.pointCharge*l*l;e.px-=a*s,e.py-=o*s}}return!t.charge}}function t(e){e.px=va.event.x,e.py=va.event.y,l.resume()}var i,r,n,a,o,l={},s=va.dispatch("start","tick","end"),u=[1,1],c=.9,f=Cl,d=Tl,h=-30,p=.1,m=.8,g=[],v=[];return l.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var t,i,l,f,d,m,y,b,x,w=g.length,k=v.length;for(i=0;k>i;++i)l=v[i],f=l.source,d=l.target,b=d.x-f.x,x=d.y-f.y,(m=b*b+x*x)&&(m=r*a[i]*((m=Math.sqrt(m))-n[i])/m,b*=m,x*=m,d.x-=b*(y=f.weight/(d.weight+f.weight)),d.y-=x*y,f.x+=b*(y=1-y),f.y+=x*y);if((y=r*p)&&(b=u[0]/2,x=u[1]/2,i=-1,y))for(;++i<w;)l=g[i],l.x+=(b-l.x)*y,l.y+=(x-l.y)*y;if(h)for(nr(t=va.geom.quadtree(g),r,o),i=-1;++i<w;)(l=g[i]).fixed||t.visit(e(l));for(i=-1;++i<w;)l=g[i],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*c,l.y-=(l.py-(l.py=l.y))*c);s.tick({type:"tick",alpha:r})},l.nodes=function(e){return arguments.length?(g=e,l):g},l.links=function(e){return arguments.length?(v=e,l):v},l.size=function(e){return arguments.length?(u=e,l):u},l.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,l):f},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,l):d},l.friction=function(e){return arguments.length?(c=+e,l):c},l.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,l):h},l.gravity=function(e){return arguments.length?(p=+e,l):p},l.theta=function(e){return arguments.length?(m=+e,l):m},l.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(s.start({type:"start",alpha:r=e}),va.timer(l.tick)),l):r},l.start=function(){function e(e,r){for(var n,a=t(i),o=-1,l=a.length;++o<l;)if(!isNaN(n=a[o][e]))return n;return Math.random()*r}function t(){if(!s){for(s=[],r=0;p>r;++r)s[r]=[];for(r=0;m>r;++r){var e=v[r];s[e.source.index].push(e.target),s[e.target.index].push(e.source)}}return s[i]}var i,r,s,c,p=g.length,m=v.length,y=u[0],b=u[1];for(i=0;p>i;++i)(c=g[i]).index=i,c.weight=0;for(i=0;m>i;++i)c=v[i],"number"==typeof c.source&&(c.source=g[c.source]),"number"==typeof c.target&&(c.target=g[c.target]),++c.source.weight,++c.target.weight;for(i=0;p>i;++i)c=g[i],isNaN(c.x)&&(c.x=e("x",y)),isNaN(c.y)&&(c.y=e("y",b)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);if(n=[],"function"==typeof f)for(i=0;m>i;++i)n[i]=+f.call(this,v[i],i);else for(i=0;m>i;++i)n[i]=f;if(a=[],"function"==typeof d)for(i=0;m>i;++i)a[i]=+d.call(this,v[i],i);else for(i=0;m>i;++i)a[i]=d;if(o=[],"function"==typeof h)for(i=0;p>i;++i)o[i]=+h.call(this,g[i],i);else for(i=0;p>i;++i)o[i]=h;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=va.behavior.drag().origin(me).on("dragstart.force",er).on("drag.force",t).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",ir).on("mouseout.force",rr).call(i):i},va.rebind(l,s,"on")};var Cl=20,Tl=1;va.layout.hierarchy=function(){function e(t,o,l){var s=n.call(i,t,o);if(t.depth=o,l.push(t),s&&(u=s.length)){for(var u,c,f=-1,d=t.children=[],h=0,p=o+1;++f<u;)c=e(s[f],p,l),c.parent=t,d.push(c),h+=c.value;r&&d.sort(r),a&&(t.value=h)}else a&&(t.value=+a.call(i,t,o)||0);return t}function t(e,r){var n=e.children,o=0;if(n&&(l=n.length))for(var l,s=-1,u=r+1;++s<l;)o+=t(n[s],u);else a&&(o=+a.call(i,e,r)||0);return a&&(e.value=o),o}function i(t){var i=[];return e(t,0,i),i}var r=sr,n=or,a=lr;return i.sort=function(e){return arguments.length?(r=e,i):r},i.children=function(e){return arguments.length?(n=e,i):n},i.value=function(e){return arguments.length?(a=e,i):a},i.revalue=function(e){return t(e,0),e},i},va.layout.partition=function(){function e(t,i,r,n){var a=t.children;if(t.x=i,t.y=t.depth*n,t.dx=r,t.dy=n,a&&(o=a.length)){var o,l,s,u=-1;for(r=t.value?r/t.value:0;++u<o;)e(l=a[u],i,s=l.value*r,n),i+=s}}function t(e){var i=e.children,r=0;if(i&&(n=i.length))for(var n,a=-1;++a<n;)r=Math.max(r,t(i[a]));return 1+r}function i(i,a){var o=r.call(this,i,a);return e(o[0],0,n[0],n[1]/t(o[0])),o}var r=va.layout.hierarchy(),n=[1,1];return i.size=function(e){return arguments.length?(n=e,i):n},ar(i,r)},va.layout.pie=function(){function e(a){var o=a.map(function(i,r){return+t.call(e,i,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof n?n.apply(this,arguments):n)-l)/va.sum(o),u=va.range(a.length);null!=i&&u.sort(i===jl?function(e,t){return o[t]-o[e]}:function(e,t){return i(a[e],a[t])});var c=[];return u.forEach(function(e){var t;c[e]={data:a[e],value:t=o[e],startAngle:l,endAngle:l+=t*s}}),c}var t=Number,i=jl,r=0,n=Ga;return e.value=function(i){return arguments.length?(t=i,e):t},e.sort=function(t){return arguments.length?(i=t,e):i},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(n=t,e):n},e};var jl={};va.layout.stack=function(){function e(l,s){var u=l.map(function(i,r){return t.call(e,i,r)}),c=u.map(function(t){return t.map(function(t,i){return[a.call(e,t,i),o.call(e,t,i)]})}),f=i.call(e,c,s);u=va.permute(u,f),c=va.permute(c,f);var d,h,p,m=r.call(e,c,s),g=u.length,v=u[0].length;for(h=0;v>h;++h)for(n.call(e,u[0][h],p=m[h],c[0][h][1]),d=1;g>d;++d)n.call(e,u[d][h],p+=c[d-1][h][1],c[d][h][1]);return l}var t=me,i=hr,r=pr,n=dr,a=cr,o=fr;return e.values=function(i){return arguments.length?(t=i,e):t},e.order=function(t){return arguments.length?(i="function"==typeof t?t:Ml.get(t)||hr,e):i},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Dl.get(t)||pr,e):r},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(n=t,e):n},e};var Ml=va.map({"inside-out":function(e){var t,i,r=e.length,n=e.map(mr),a=e.map(gr),o=va.range(r).sort(function(e,t){return n[e]-n[t]}),l=0,s=0,u=[],c=[];for(t=0;r>t;++t)i=o[t],s>l?(l+=a[i],u.push(i)):(s+=a[i],c.push(i));return c.reverse().concat(u)},reverse:function(e){return va.range(e.length).reverse()},"default":hr}),Dl=va.map({silhouette:function(e){var t,i,r,n=e.length,a=e[0].length,o=[],l=0,s=[];for(i=0;a>i;++i){for(t=0,r=0;n>t;t++)r+=e[t][i][1];r>l&&(l=r),o.push(r)}for(i=0;a>i;++i)s[i]=(l-o[i])/2;return s},wiggle:function(e){var t,i,r,n,a,o,l,s,u,c=e.length,f=e[0],d=f.length,h=[];for(h[0]=s=u=0,i=1;d>i;++i){for(t=0,n=0;c>t;++t)n+=e[t][i][1];for(t=0,a=0,l=f[i][0]-f[i-1][0];c>t;++t){for(r=0,o=(e[t][i][1]-e[t][i-1][1])/(2*l);t>r;++r)o+=(e[r][i][1]-e[r][i-1][1])/l;a+=o*e[t][i][1]}h[i]=s-=n?a/n*l:0,u>s&&(u=s)}for(i=0;d>i;++i)h[i]-=u;return h},expand:function(e){var t,i,r,n=e.length,a=e[0].length,o=1/n,l=[];for(i=0;a>i;++i){for(t=0,r=0;n>t;t++)r+=e[t][i][1];if(r)for(t=0;n>t;t++)e[t][i][1]/=r;else for(t=0;n>t;t++)e[t][i][1]=o}for(i=0;a>i;++i)l[i]=0;return l},zero:pr});va.layout.histogram=function(){function e(e,a){for(var o,l,s=[],u=e.map(i,this),c=r.call(this,u,a),f=n.call(this,c,u,a),a=-1,d=u.length,h=f.length-1,p=t?1:1/d;++a<h;)o=s[a]=[],o.dx=f[a+1]-(o.x=f[a]),o.y=0;if(h>0)for(a=-1;++a<d;)l=u[a],l>=c[0]&&l<=c[1]&&(o=s[va.bisect(f,l,1,h)-1],o.y+=p,o.push(e[a]));return s}var t=!0,i=Number,r=xr,n=yr;return e.value=function(t){return arguments.length?(i=t,e):i},e.range=function(t){return arguments.length?(r=pe(t),e):r},e.bins=function(t){return arguments.length?(n="number"==typeof t?function(e){return br(e,t)}:pe(t),e):n},e.frequency=function(i){return arguments.length?(t=!!i,e):t},e},va.layout.tree=function(){function e(e,a){function o(e,t){var r=e.children,n=e._tree;if(r&&(a=r.length)){for(var a,l,u,c=r[0],f=c,d=-1;++d<a;)u=r[d],o(u,l),f=s(u,l,f),l=u;Dr(e);var h=.5*(c._tree.prelim+u._tree.prelim);t?(n.prelim=t._tree.prelim+i(e,t),n.mod=n.prelim-h):n.prelim=h}else t&&(n.prelim=t._tree.prelim+i(e,t))}function l(e,t){e.x=e._tree.prelim+t;var i=e.children;if(i&&(r=i.length)){var r,n=-1;for(t+=e._tree.mod;++n<r;)l(i[n],t)}}function s(e,t,r){if(t){for(var n,a=e,o=e,l=t,s=e.parent.children[0],u=a._tree.mod,c=o._tree.mod,f=l._tree.mod,d=s._tree.mod;l=_r(l),a=kr(a),l&&a;)s=kr(s),o=_r(o),o._tree.ancestor=e,n=l._tree.prelim+f-a._tree.prelim-u+i(l,a),n>0&&(Er(Ar(l,e,r),e,n),u+=n,c+=n),f+=l._tree.mod,u+=a._tree.mod,d+=s._tree.mod,c+=o._tree.mod;l&&!_r(o)&&(o._tree.thread=l,o._tree.mod+=f-c),a&&!kr(s)&&(s._tree.thread=a,s._tree.mod+=u-d,r=e)}return r}var u=t.call(this,e,a),c=u[0];Mr(c,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),o(c),l(c,-c._tree.prelim);var f=Sr(c,Tr),d=Sr(c,Cr),h=Sr(c,jr),p=f.x-i(f,d)/2,m=d.x+i(d,f)/2,g=h.depth||1;return Mr(c,n?function(e){e.x*=r[0],e.y=e.depth*r[1],delete e._tree}:function(e){e.x=(e.x-p)/(m-p)*r[0],e.y=e.depth/g*r[1],delete e._tree}),u}var t=va.layout.hierarchy().sort(null).value(null),i=wr,r=[1,1],n=!1;return e.separation=function(t){return arguments.length?(i=t,e):i},e.size=function(t){return arguments.length?(n=null==(r=t),e):n?null:r},e.nodeSize=function(t){return arguments.length?(n=null!=(r=t),e):n?r:null},ar(e,t)},va.layout.pack=function(){function e(e,a){var o=i.call(this,e,a),l=o[0],s=n[0],u=n[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,Mr(l,function(e){e.r=+c(e.value)}),Mr(l,Or),r){var f=r*(t?1:Math.max(2*l.r/s,2*l.r/u))/2;Mr(l,function(e){e.r+=f}),Mr(l,Or),Mr(l,function(e){e.r-=f})}return Fr(l,s/2,u/2,t?1:1/Math.max(2*l.r/s,2*l.r/u)),o}var t,i=va.layout.hierarchy().sort(Nr),r=0,n=[1,1];return e.size=function(t){return arguments.length?(n=t,e):n},e.radius=function(i){return arguments.length?(t=null==i||"function"==typeof i?i:+i,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ar(e,i)},va.layout.cluster=function(){function e(e,a){var o,l=t.call(this,e,a),s=l[0],u=0;Mr(s,function(e){var t=e.children;t&&t.length?(e.x=qr(t),e.y=Rr(t)):(e.x=o?u+=i(e,o):0,e.y=0,o=e)});var c=Hr(s),f=Wr(s),d=c.x-i(c,f)/2,h=f.x+i(f,c)/2;return Mr(s,n?function(e){e.x=(e.x-s.x)*r[0],e.y=(s.y-e.y)*r[1]}:function(e){e.x=(e.x-d)/(h-d)*r[0],e.y=(1-(s.y?e.y/s.y:1))*r[1]}),l}var t=va.layout.hierarchy().sort(null).value(null),i=wr,r=[1,1],n=!1;return e.separation=function(t){return arguments.length?(i=t,e):i},e.size=function(t){return arguments.length?(n=null==(r=t),e):n?null:r},e.nodeSize=function(t){return arguments.length?(n=null!=(r=t),e):n?r:null},ar(e,t)},va.layout.treemap=function(){function e(e,t){for(var i,r,n=-1,a=e.length;++n<a;)r=(i=e[n]).value*(0>t?0:t),i.area=isNaN(r)||0>=r?0:r}function t(i){var a=i.children;if(a&&a.length){var o,l,s,u=f(i),c=[],d=a.slice(),p=1/0,m="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&i.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(d,u.dx*u.dy/i.value),c.area=0;(s=d.length)>0;)c.push(o=d[s-1]),c.area+=o.area,"squarify"!==h||(l=r(c,m))<=p?(d.pop(),p=l):(c.area-=c.pop().area,n(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(n(c,m,u,!0),c.length=c.area=0),a.forEach(t)}}function i(t){var r=t.children;if(r&&r.length){var a,o=f(t),l=r.slice(),s=[];for(e(l,o.dx*o.dy/t.value),s.area=0;a=l.pop();)s.push(a),s.area+=a.area,null!=a.z&&(n(s,a.z?o.dx:o.dy,o,!l.length),s.length=s.area=0);r.forEach(i)}}function r(e,t){for(var i,r=e.area,n=0,a=1/0,o=-1,l=e.length;++o<l;)(i=e[o].area)&&(a>i&&(a=i),i>n&&(n=i));return r*=r,t*=t,r?Math.max(t*n*p/r,r/(t*a*p)):1/0}function n(e,t,i,r){var n,a=-1,o=e.length,l=i.x,u=i.y,c=t?s(e.area/t):0;if(t==i.dx){for((r||c>i.dy)&&(c=i.dy);++a<o;)n=e[a],n.x=l,n.y=u,n.dy=c,l+=n.dx=Math.min(i.x+i.dx-l,c?s(n.area/c):0);n.z=!0,n.dx+=i.x+i.dx-l,i.y+=c,i.dy-=c}else{for((r||c>i.dx)&&(c=i.dx);++a<o;)n=e[a],n.x=l,n.y=u,n.dx=c,u+=n.dy=Math.min(i.y+i.dy-u,c?s(n.area/c):0);n.z=!1,n.dy+=i.y+i.dy-u,i.x+=c,i.dx-=c}}function a(r){var n=o||l(r),a=n[0];return a.x=0,a.y=0,a.dx=u[0],a.dy=u[1],o&&l.revalue(a),e([a],a.dx*a.dy/a.value),(o?i:t)(a),d&&(o=n),n}var o,l=va.layout.hierarchy(),s=Math.round,u=[1,1],c=null,f=Ur,d=!1,h="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(u=e,a):u},a.padding=function(e){function t(t){var i=e.call(a,t,t.depth);return null==i?Ur(t):Br(t,"number"==typeof i?[i,i,i,i]:i)}function i(t){return Br(t,e)}if(!arguments.length)return c;var r;return f=null==(c=e)?Ur:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],i):i,a},a.round=function(e){return arguments.length?(s=e?Math.round:Number,a):s!=Number},a.sticky=function(e){return arguments.length?(d=e,o=null,a):d},a.ratio=function(e){return arguments.length?(p=e,a):p},a.mode=function(e){return arguments.length?(h=e+"",a):h},ar(a,l)},va.random={normal:function(e,t){var i=arguments.length;return 2>i&&(t=1),1>i&&(e=0),function(){var i,r,n;do i=2*Math.random()-1,r=2*Math.random()-1,n=i*i+r*r;while(!n||n>1);return e+t*i*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var e=va.random.normal.apply(va,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var t=0,i=0;e>i;i++)t+=Math.random();return t/e}}},va.scale={};var El={floor:me,ceil:me};va.scale.linear=function(){return Jr([0,1],[0,1],Ci,!1)},va.scale.log=function(){return on(va.scale.linear().domain([0,1]),10,!0,[1,10])};var Al=va.format(".0e"),Nl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};va.scale.pow=function(){return ln(va.scale.linear(),1,[0,1])},va.scale.sqrt=function(){return va.scale.pow().exponent(.5)},va.scale.ordinal=function(){return un([],{t:"range",a:[[]]})},va.scale.category10=function(){return va.scale.ordinal().range(Il)},va.scale.category20=function(){return va.scale.ordinal().range(Ll)},va.scale.category20b=function(){return va.scale.ordinal().range(Ql)},va.scale.category20c=function(){return va.scale.ordinal().range(Ol)};var Il=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),Ll=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Ql=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),Ol=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);va.scale.quantile=function(){return cn([],[])},va.scale.quantize=function(){return fn(0,1,[0,1])},va.scale.threshold=function(){return dn([.5],[0,1])},va.scale.identity=function(){return hn([0,1])},va.svg.arc=function(){function e(){var e=t.apply(this,arguments),a=i.apply(this,arguments),o=r.apply(this,arguments)+zl,l=n.apply(this,arguments)+zl,s=(o>l&&(s=o,o=l,l=s),l-o),u=Va>s?"0":"1",c=Math.cos(o),f=Math.sin(o),d=Math.cos(l),h=Math.sin(l);return s>=Pl?e?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":e?"M"+a*c+","+a*f+"A"+a+","+a+" 0 "+u+",1 "+a*d+","+a*h+"L"+e*d+","+e*h+"A"+e+","+e+" 0 "+u+",0 "+e*c+","+e*f+"Z":"M"+a*c+","+a*f+"A"+a+","+a+" 0 "+u+",1 "+a*d+","+a*h+"L0,0Z"}var t=pn,i=mn,r=gn,n=vn;return e.innerRadius=function(i){return arguments.length?(t=pe(i),e):t},e.outerRadius=function(t){return arguments.length?(i=pe(t),e):i},e.startAngle=function(t){return arguments.length?(r=pe(t),e):r},e.endAngle=function(t){return arguments.length?(n=pe(t),e):n},e.centroid=function(){var e=(t.apply(this,arguments)+i.apply(this,arguments))/2,a=(r.apply(this,arguments)+n.apply(this,arguments))/2+zl;return[Math.cos(a)*e,Math.sin(a)*e]},e};var zl=-Za,Pl=Ga-Xa;va.svg.line.radial=function(){var e=Ht(yn);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Gt.reverse=Zt,Zt.reverse=Gt,va.svg.area=function(){return bn(me)},va.svg.area.radial=function(){var e=bn(yn);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},va.svg.chord=function(){function e(e,l){var s=t(this,a,e,l),u=t(this,o,e,l);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(i(s,u)?n(s.r,s.p1,s.r,s.p0):n(s.r,s.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+n(u.r,u.p1,s.r,s.p0))+"Z"}function t(e,t,i,r){var n=t.call(e,i,r),a=l.call(e,n,r),o=s.call(e,n,r)+zl,c=u.call(e,n,r)+zl;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function i(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,i){return"A"+e+","+e+" 0 "+ +(i>Va)+",1 "+t}function n(e,t,i,r){return"Q 0,0 "+r}var a=It,o=Lt,l=xn,s=gn,u=vn;return e.radius=function(t){return arguments.length?(l=pe(t),e):l},e.source=function(t){return arguments.length?(a=pe(t),e):a},e.target=function(t){return arguments.length?(o=pe(t),e):o},e.startAngle=function(t){return arguments.length?(s=pe(t),e):s},e.endAngle=function(t){return arguments.length?(u=pe(t),e):u},e},va.svg.diagonal=function(){function e(e,n){var a=t.call(this,e,n),o=i.call(this,e,n),l=(a.y+o.y)/2,s=[a,{x:a.x,y:l},{x:o.x,y:l},o];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var t=It,i=Lt,r=wn;return e.source=function(i){return arguments.length?(t=pe(i),e):t},e.target=function(t){return arguments.length?(i=pe(t),e):i},e.projection=function(t){return arguments.length?(r=t,e):r},e},va.svg.diagonal.radial=function(){var e=va.svg.diagonal(),t=wn,i=e.projection;return e.projection=function(e){return arguments.length?i(kn(t=e)):t},e},va.svg.symbol=function(){function e(e,r){return(Fl.get(t.call(this,e,r))||Cn)(i.call(this,e,r))}var t=Sn,i=_n;return e.type=function(i){return arguments.length?(t=pe(i),e):t},e.size=function(t){return arguments.length?(i=pe(t),e):i},e};var Fl=va.map({circle:Cn,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Hl)),i=t*Hl;return"M0,"+-t+"L"+i+",0 0,"+t+" "+-i+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ql),i=t*ql/2;return"M0,"+i+"L"+t+","+-i+" "+-t+","+-i+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ql),i=t*ql/2;return"M0,"+-i+"L"+t+","+i+" "+-t+","+i+"Z"}});va.svg.symbolTypes=Fl.keys();var $l,Rl,ql=Math.sqrt(3),Hl=Math.tan(30*Ja),Wl=[],Ul=0;Wl.call=$a.call,Wl.empty=$a.empty,Wl.node=$a.node,Wl.size=$a.size,va.transition=function(e){return arguments.length?$l?e.transition():e:Ha.transition()},va.transition.prototype=Wl,Wl.select=function(e){var t,i,r,n=this.id,a=[];e=m(e);for(var o=-1,l=this.length;++o<l;){a.push(t=[]);for(var s=this[o],u=-1,c=s.length;++u<c;)(r=s[u])&&(i=e.call(r,r.__data__,u,o))?("__data__"in r&&(i.__data__=r.__data__),Dn(i,u,n,r.__transition__[n]),t.push(i)):t.push(null)}return Tn(a,n)},Wl.selectAll=function(e){var t,i,r,n,a,o=this.id,l=[];e=g(e);for(var s=-1,u=this.length;++s<u;)for(var c=this[s],f=-1,d=c.length;++f<d;)if(r=c[f]){a=r.__transition__[o],i=e.call(r,r.__data__,f,s),l.push(t=[]);for(var h=-1,p=i.length;++h<p;)(n=i[h])&&Dn(n,h,o,a),t.push(n)}return Tn(l,o)},Wl.filter=function(e){var t,i,r,n=[];"function"!=typeof e&&(e=T(e));for(var a=0,o=this.length;o>a;a++){n.push(t=[]);for(var i=this[a],l=0,s=i.length;s>l;l++)(r=i[l])&&e.call(r,r.__data__,l)&&t.push(r)}return Tn(n,this.id)},Wl.tween=function(e,t){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(e):M(this,null==t?function(t){t.__transition__[i].tween.remove(e)}:function(r){r.__transition__[i].tween.set(e,t)})},Wl.attr=function(e,t){function i(){this.removeAttribute(l)}function r(){this.removeAttributeNS(l.space,l.local)}function n(e){return null==e?i:(e+="",function(){var t,i=this.getAttribute(l);return i!==e&&(t=o(i,e),function(e){this.setAttribute(l,t(e))})})}function a(e){return null==e?r:(e+="",function(){var t,i=this.getAttributeNS(l.space,l.local);return i!==e&&(t=o(i,e),
function(e){this.setAttributeNS(l.space,l.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Vi:Ci,l=va.ns.qualify(e);return jn(this,"attr."+e,t,l.local?a:n)},Wl.attrTween=function(e,t){function i(e,i){var r=t.call(this,e,i,this.getAttribute(n));return r&&function(e){this.setAttribute(n,r(e))}}function r(e,i){var r=t.call(this,e,i,this.getAttributeNS(n.space,n.local));return r&&function(e){this.setAttributeNS(n.space,n.local,r(e))}}var n=va.ns.qualify(e);return this.tween("attr."+e,n.local?r:i)},Wl.style=function(e,t,i){function r(){this.style.removeProperty(e)}function n(t){return null==t?r:(t+="",function(){var r,n=ka.getComputedStyle(this,null).getPropertyValue(e);return n!==t&&(r=Ci(n,t),function(t){this.style.setProperty(e,r(t),i)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t="");for(i in e)this.style(i,e[i],t);return this}i=""}return jn(this,"style."+e,t,n)},Wl.styleTween=function(e,t,i){function r(r,n){var a=t.call(this,r,n,ka.getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),i)}}return arguments.length<3&&(i=""),this.tween("style."+e,r)},Wl.text=function(e){return jn(this,"text",e,Mn)},Wl.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Wl.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=va.ease.apply(va,arguments)),M(this,function(i){i.__transition__[t].ease=e}))},Wl.delay=function(e){var t=this.id;return M(this,"function"==typeof e?function(i,r,n){i.__transition__[t].delay=+e.call(i,i.__data__,r,n)}:(e=+e,function(i){i.__transition__[t].delay=e}))},Wl.duration=function(e){var t=this.id;return M(this,"function"==typeof e?function(i,r,n){i.__transition__[t].duration=Math.max(1,e.call(i,i.__data__,r,n))}:(e=Math.max(1,e),function(i){i.__transition__[t].duration=e}))},Wl.each=function(e,t){var i=this.id;if(arguments.length<2){var r=Rl,n=$l;$l=i,M(this,function(t,r,n){Rl=t.__transition__[i],e.call(t,t.__data__,r,n)}),Rl=r,$l=n}else M(this,function(r){var n=r.__transition__[i];(n.event||(n.event=va.dispatch("start","end"))).on(e,t)});return this},Wl.transition=function(){for(var e,t,i,r,n=this.id,a=++Ul,o=[],l=0,s=this.length;s>l;l++){o.push(e=[]);for(var t=this[l],u=0,c=t.length;c>u;u++)(i=t[u])&&(r=Object.create(i.__transition__[n]),r.delay+=r.duration,Dn(i,u,a,r)),e.push(i)}return Tn(o,a)},va.svg.axis=function(){function e(e){e.each(function(){var e,u=va.select(this),c=this.__chart__||i,f=this.__chart__=i.copy(),d=null==s?f.ticks?f.ticks.apply(f,l):f.domain():s,h=null==t?f.tickFormat?f.tickFormat.apply(f,l):me:t,p=u.selectAll(".tick").data(d,f),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Xa),g=va.transition(p.exit()).style("opacity",Xa).remove(),v=va.transition(p).style("opacity",1),y=Vr(f),b=u.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),va.transition(b));m.append("line"),m.append("text");var w=m.select("line"),k=v.select("line"),_=p.select("text").text(h),S=m.select("text"),C=v.select("text");switch(r){case"bottom":e=En,w.attr("y2",n),S.attr("y",Math.max(n,0)+o),k.attr("x2",0).attr("y2",n),C.attr("x",0).attr("y",Math.max(n,0)+o),_.attr("dy",".71em").style("text-anchor","middle"),x.attr("d","M"+y[0]+","+a+"V0H"+y[1]+"V"+a);break;case"top":e=En,w.attr("y2",-n),S.attr("y",-(Math.max(n,0)+o)),k.attr("x2",0).attr("y2",-n),C.attr("x",0).attr("y",-(Math.max(n,0)+o)),_.attr("dy","0em").style("text-anchor","middle"),x.attr("d","M"+y[0]+","+-a+"V0H"+y[1]+"V"+-a);break;case"left":e=An,w.attr("x2",-n),S.attr("x",-(Math.max(n,0)+o)),k.attr("x2",-n).attr("y2",0),C.attr("x",-(Math.max(n,0)+o)).attr("y",0),_.attr("dy",".32em").style("text-anchor","end"),x.attr("d","M"+-a+","+y[0]+"H0V"+y[1]+"H"+-a);break;case"right":e=An,w.attr("x2",n),S.attr("x",Math.max(n,0)+o),k.attr("x2",n).attr("y2",0),C.attr("x",Math.max(n,0)+o).attr("y",0),_.attr("dy",".32em").style("text-anchor","start"),x.attr("d","M"+a+","+y[0]+"H0V"+y[1]+"H"+a)}if(f.rangeBand){var T=f.rangeBand()/2,j=function(e){return f(e)+T};m.call(e,j),v.call(e,j)}else m.call(e,c),v.call(e,f),g.call(e,f)})}var t,i=va.scale.linear(),r=Bl,n=6,a=6,o=3,l=[10],s=null;return e.scale=function(t){return arguments.length?(i=t,e):i},e.orient=function(t){return arguments.length?(r=t in Yl?t+"":Bl,e):r},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(i){return arguments.length?(t=i,e):t},e.tickSize=function(t){var i=arguments.length;return i?(n=+t,a=+arguments[i-1],e):n},e.innerTickSize=function(t){return arguments.length?(n=+t,e):n},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Bl="bottom",Yl={top:1,right:1,bottom:1,left:1};va.svg.brush=function(){function e(a){a.each(function(){var a=va.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",n).on("touchstart.brush",n),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=a.selectAll(".resize").data(g,me);l.exit().remove(),l.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Vl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",e.empty()?"none":null);var c,f=va.transition(a),d=va.transition(o);s&&(c=Vr(s),d.attr("x",c[0]).attr("width",c[1]-c[0]),i(f)),u&&(c=Vr(u),d.attr("y",c[0]).attr("height",c[1]-c[0]),r(f)),t(f)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function i(e){e.select(".extent").attr("x",c[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function n(){function n(){32==va.event.keyCode&&(M||(b=null,E[0]-=c[1],E[1]-=d[1],M=2),f())}function h(){32==va.event.keyCode&&2==M&&(E[0]+=c[1],E[1]+=d[1],M=0,f())}function g(){var e=va.mouse(w),n=!1;x&&(e[0]+=x[0],e[1]+=x[1]),M||(va.event.altKey?(b||(b=[(c[0]+c[1])/2,(d[0]+d[1])/2]),E[0]=c[+(e[0]<b[0])],E[1]=d[+(e[1]<b[1])]):b=null),T&&v(e,s,0)&&(i(S),n=!0),j&&v(e,u,1)&&(r(S),n=!0),n&&(t(S),_({type:"brush",mode:M?"move":"resize"}))}function v(e,t,i){var r,n,l=Vr(t),s=l[0],u=l[1],f=E[i],h=i?d:c,g=h[1]-h[0];return M&&(s-=f,u-=g+f),r=(i?m:p)?Math.max(s,Math.min(u,e[i])):e[i],M?n=(r+=f)+g:(b&&(f=Math.max(s,Math.min(u,2*b[i]-r))),r>f?(n=r,r=f):n=f),h[0]!=r||h[1]!=n?(i?o=null:a=null,h[0]=r,h[1]=n,!0):void 0}function y(){g(),S.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),va.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),_({type:"brushend"})}var b,x,w=this,k=va.select(va.event.target),_=l.of(w,arguments),S=va.select(w),C=k.datum(),T=!/^(n|s)$/.test(C)&&s,j=!/^(e|w)$/.test(C)&&u,M=k.classed("extent"),D=Q(),E=va.mouse(w),A=va.select(ka).on("keydown.brush",n).on("keyup.brush",h);if(va.event.changedTouches?A.on("touchmove.brush",g).on("touchend.brush",y):A.on("mousemove.brush",g).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),M)E[0]=c[0]-E[0],E[1]=d[0]-E[1];else if(C){var N=+/w$/.test(C),I=+/^n/.test(C);x=[c[1-N]-E[0],d[1-I]-E[1]],E[0]=c[N],E[1]=d[I]}else va.event.altKey&&(b=E.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),va.select("body").style("cursor",k.style("cursor")),_({type:"brushstart"}),g()}var a,o,l=h(e,"brushstart","brush","brushend"),s=null,u=null,c=[0,0],d=[0,0],p=!0,m=!0,g=Gl[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:c,y:d,i:a,j:o},i=this.__chart__||t;this.__chart__=t,$l?va.select(this).transition().each("start.brush",function(){a=i.i,o=i.j,c=i.x,d=i.y,e({type:"brushstart"})}).tween("brush:brush",function(){var i=Ti(c,t.x),r=Ti(d,t.y);return a=o=null,function(n){c=t.x=i(n),d=t.y=r(n),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,o=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(s=t,g=Gl[!s<<1|!u],e):s},e.y=function(t){return arguments.length?(u=t,g=Gl[!s<<1|!u],e):u},e.clamp=function(t){return arguments.length?(s&&u?(p=!!t[0],m=!!t[1]):s?p=!!t:u&&(m=!!t),e):s&&u?[p,m]:s?p:u?m:null},e.extent=function(t){var i,r,n,l,f;return arguments.length?(s&&(i=t[0],r=t[1],u&&(i=i[0],r=r[0]),a=[i,r],s.invert&&(i=s(i),r=s(r)),i>r&&(f=i,i=r,r=f),(i!=c[0]||r!=c[1])&&(c=[i,r])),u&&(n=t[0],l=t[1],s&&(n=n[1],l=l[1]),o=[n,l],u.invert&&(n=u(n),l=u(l)),n>l&&(f=n,n=l,l=f),(n!=d[0]||l!=d[1])&&(d=[n,l])),e):(s&&(a?(i=a[0],r=a[1]):(i=c[0],r=c[1],s.invert&&(i=s.invert(i),r=s.invert(r)),i>r&&(f=i,i=r,r=f))),u&&(o?(n=o[0],l=o[1]):(n=d[0],l=d[1],u.invert&&(n=u.invert(n),l=u.invert(l)),n>l&&(f=n,n=l,l=f))),s&&u?[[i,n],[r,l]]:s?[i,r]:u&&[n,l])},e.clear=function(){return e.empty()||(c=[0,0],d=[0,0],a=o=null),e},e.empty=function(){return!!s&&c[0]==c[1]||!!u&&d[0]==d[1]},va.rebind(e,l,"on")};var Vl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Gl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Zl=va.time={},Xl=Date,Kl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Nn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Jl.setUTCDate.apply(this._,arguments)},setDay:function(){Jl.setUTCDay.apply(this._,arguments)},setFullYear:function(){Jl.setUTCFullYear.apply(this._,arguments)},setHours:function(){Jl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Jl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Jl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Jl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Jl.setUTCSeconds.apply(this._,arguments)},setTime:function(){Jl.setTime.apply(this._,arguments)}};var Jl=Date.prototype,es="%a %b %e %X %Y",ts="%m/%d/%Y",is="%H:%M:%S",rs=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ns=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],as=["January","February","March","April","May","June","July","August","September","October","November","December"],os=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Zl.year=In(function(e){return e=Zl.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Zl.years=Zl.year.range,Zl.years.utc=Zl.year.utc.range,Zl.day=In(function(e){var t=new Xl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Zl.days=Zl.day.range,Zl.days.utc=Zl.day.utc.range,Zl.dayOfYear=function(e){var t=Zl.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},Kl.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var i=Zl[e]=In(function(e){return(e=Zl.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var i=Zl.year(e).getDay();return Math.floor((Zl.dayOfYear(e)+(i+t)%7)/7)-(i!==t)});Zl[e+"s"]=i.range,Zl[e+"s"].utc=i.utc.range,Zl[e+"OfYear"]=function(e){var i=Zl.year(e).getDay();return Math.floor((Zl.dayOfYear(e)+(i+t)%7)/7)}}),Zl.week=Zl.sunday,Zl.weeks=Zl.sunday.range,Zl.weeks.utc=Zl.sunday.utc.range,Zl.weekOfYear=Zl.sundayOfYear,Zl.format=Qn;var ls=zn(rs),ss=Pn(rs),us=zn(ns),cs=Pn(ns),fs=zn(as),ds=Pn(as),hs=zn(os),ps=Pn(os),ms=/^%/,gs={"-":"",_:" ",0:"0"},vs={a:function(e){return ns[e.getDay()]},A:function(e){return rs[e.getDay()]},b:function(e){return os[e.getMonth()]},B:function(e){return as[e.getMonth()]},c:Qn(es),d:function(e,t){return Fn(e.getDate(),t,2)},e:function(e,t){return Fn(e.getDate(),t,2)},H:function(e,t){return Fn(e.getHours(),t,2)},I:function(e,t){return Fn(e.getHours()%12||12,t,2)},j:function(e,t){return Fn(1+Zl.dayOfYear(e),t,3)},L:function(e,t){return Fn(e.getMilliseconds(),t,3)},m:function(e,t){return Fn(e.getMonth()+1,t,2)},M:function(e,t){return Fn(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return Fn(e.getSeconds(),t,2)},U:function(e,t){return Fn(Zl.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Fn(Zl.mondayOfYear(e),t,2)},x:Qn(ts),X:Qn(is),y:function(e,t){return Fn(e.getFullYear()%100,t,2)},Y:function(e,t){return Fn(e.getFullYear()%1e4,t,4)},Z:sa,"%":function(){return"%"}},ys={a:$n,A:Rn,b:Un,B:Bn,c:Yn,d:ta,e:ta,H:ra,I:ra,j:ia,L:oa,m:ea,M:na,p:la,S:aa,U:Hn,w:qn,W:Wn,x:Vn,X:Gn,y:Xn,Y:Zn,Z:Kn,"%":ua},bs=/^\s*\d+/,xs=va.map({am:0,pm:1});Qn.utc=ca;var ws=ca("%Y-%m-%dT%H:%M:%S.%LZ");Qn.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?fa:ws,fa.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},fa.toString=ws.toString,Zl.second=In(function(e){return new Xl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Zl.seconds=Zl.second.range,Zl.seconds.utc=Zl.second.utc.range,Zl.minute=In(function(e){return new Xl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Zl.minutes=Zl.minute.range,Zl.minutes.utc=Zl.minute.utc.range,Zl.hour=In(function(e){var t=e.getTimezoneOffset()/60;return new Xl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Zl.hours=Zl.hour.range,Zl.hours.utc=Zl.hour.utc.range,Zl.month=In(function(e){return e=Zl.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Zl.months=Zl.month.range,Zl.months.utc=Zl.month.utc.range;var ks=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],_s=[[Zl.second,1],[Zl.second,5],[Zl.second,15],[Zl.second,30],[Zl.minute,1],[Zl.minute,5],[Zl.minute,15],[Zl.minute,30],[Zl.hour,1],[Zl.hour,3],[Zl.hour,6],[Zl.hour,12],[Zl.day,1],[Zl.day,2],[Zl.week,1],[Zl.month,1],[Zl.month,3],[Zl.year,1]],Ss=[[Qn("%Y"),Ue],[Qn("%B"),function(e){return e.getMonth()}],[Qn("%b %d"),function(e){return 1!=e.getDate()}],[Qn("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[Qn("%I %p"),function(e){return e.getHours()}],[Qn("%I:%M"),function(e){return e.getMinutes()}],[Qn(":%S"),function(e){return e.getSeconds()}],[Qn(".%L"),function(e){return e.getMilliseconds()}]],Cs=pa(Ss);_s.year=Zl.year,Zl.scale=function(){return da(va.scale.linear(),_s,Cs)};var Ts={range:function(e,t,i){return va.range(+e,+t,i).map(ha)}},js=_s.map(function(e){return[e[0].utc,e[1]]}),Ms=[[ca("%Y"),Ue],[ca("%B"),function(e){return e.getUTCMonth()}],[ca("%b %d"),function(e){return 1!=e.getUTCDate()}],[ca("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[ca("%I %p"),function(e){return e.getUTCHours()}],[ca("%I:%M"),function(e){return e.getUTCMinutes()}],[ca(":%S"),function(e){return e.getUTCSeconds()}],[ca(".%L"),function(e){return e.getUTCMilliseconds()}]],Ds=pa(Ms);return js.year=Zl.year.utc,Zl.scale.utc=function(){return da(va.scale.linear(),js,Ds)},va.text=ge(function(e){return e.responseText}),va.json=function(e,t){return ve(e,"application/json",ma,t)},va.html=function(e,t){return ve(e,"text/html",ga,t)},va.xml=ge(function(e){return e.responseXML}),va}();
